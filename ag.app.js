var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

/*! updated; 01-15-2024 12:48 PM **/


Modulr.define("fox-news.hp:config",["require","jquery","cdn"],(require,$)=>{var config={};return config.cdn=require("cdn"),config.feeds={parserConfig:{initOnLoad:!0,cacheTime:5}},config});
Modulr.define("fox-news.hp:helper",["require","jquery","modernizr","core.plugins:ImageLazyLoad","cdn","core.base:utils/akamai"],(require,$,Modernizr)=>{const Time=require("core.base:utils/akamai").time,Unveil=require("core.plugins:ImageLazyLoad"),CDN=require("cdn"),cleargif=CDN.domain+"/static/orion/img/clear.gif";let UNVEIL_COUNTER=0;return new class{constructor(){this.bigTop=document.querySelector(".big-top")}getCurrentTime(){return Time.getCurrent()}unveil(target,callback,threshold){if("function"!=typeof callback)return!1;threshold=threshold||200;var loaderClass="unveil-loader-"+ ++UNVEIL_COUNTER;target.prepend(`<img src="${cleargif}" data-src="${cleargif}" class="${loaderClass}" style='width:1px; height: 1px;' />`);let loader=target.find("."+loaderClass);Unveil(loader,threshold,()=>{callback(),loader.remove()})}hasBigTopVideo(){return!!this.bigTop&&!!this.bigTop.querySelector(".has-video")}isVisible(elem){return!!elem&&(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length)}log(){if(window.console){var args=Array.prototype.slice.call(arguments);args.unshift("[fn.hp-v3]");try{return console.log.apply(console,args)}catch(err){}}}isMobileView(width){return null!=width?$(window).width()<=width:$(window).width()<=480}isTouchDevice(){return!(!Modernizr.touch&&!Modernizr.touchevents)}isAuthor(){return!!$("body").hasClass("cmsauthor-gui__mode-author")}serialize(){return Math.random().toString(36).slice(2)}cacheBuster(freq){freq=freq||2;var date=new Date,str=date.getFullYear().toString()+(date.getMonth()+1).toString()+date.getDate().toString(),hr=date.getHours()+1,date=date.getMinutes();return str+=hr.toString()+(freq&&!isNaN(freq)?Math.floor(date/parseFloat(freq)).toString():"")}execModules(modules){for(let i=0;i<modules.length;i++){var module=modules[i];"object"==typeof module&&"function"==typeof module.init?module.init():"function"==typeof module&&module()}}isAppMode(){return $("body").hasClass("app-mode")}}});
Modulr.define("fox-news.hp:main",["require","jquery","helper","cdn","core.base:modules/header","core.components:auth","core.base:utils/detector","core.plugins:OnWindowResize","core.base:utils/page.reload"],(require,$,Helper,CDN,Astro)=>{Helper.log("Orion: HP v3"),require("core.components:auth").initNew(),Helper.isAuthor()||require("core.base:utils/page.reload").set(10);let MODULES_INIT=["modules/ads","modules/image.lazy.load","modules/timestamp","modules/slideshow"];Helper.isAppMode()?MODULES_INIT=MODULES_INIT.concat(["modules/webview/features-faces"]):Helper.isAuthor()||(MODULES_INIT=MODULES_INIT.concat(["core.base:modules/breaking-news","modules/ad-placements/index","core.base:modules/header","modules/newsletter","modules/header-market","modules/weather-widget","modules/bigtop","modules/embeded-videos","modules/embedded-livestream","modules/playlist","modules/trending","modules/tracking","modules/right.rail.video","modules/sticky.rail","modules/schedule","core.components:astro/embeds"])),0<MODULES_INIT.length&&require(MODULES_INIT,function(){var args=Array.prototype.slice.call(arguments);Helper.execModules(args)})});
Modulr.define("fox-news.hp:models/video.controls",["require","jquery"],function(require,$){var VIDEO_INSTANCES={},EVENT_LISTENERS={};function trigger(event){for(var id in VIDEO_INSTANCES){var id=VIDEO_INSTANCES[id],instance=id.instance,id=id.target;if(!!!(0<id.length&&id.is(":visible")&&"function"==typeof instance.trigger))return;try{"function"==typeof instance.trigger&&(instance.isReady()?instance.trigger(event):instance.on("player.ready",function(){instance.trigger(event)}))}catch(err){}}}function triggerEvent(event,instance,args){if(EVENT_LISTENERS[event])for(var arr=EVENT_LISTENERS[event],i=0;i<arr.length;i++)(0,arr[i])({instance:instance,args:args})}function bindEvents(instance){for(var events=["play","pause"],i=0;i<events.length;i++)!function(event){instance.on("amp."+event,function(){triggerEvent(event,instance,Array.prototype.slice.call(arguments))})}(events[i])}return new class{constructor(){}addInstance(target,instance){var uid;instance&&"function"==typeof instance.getOpts&&(uid=instance.getOpts().app.uid,VIDEO_INSTANCES[uid]||(VIDEO_INSTANCES[uid]={instance:instance,target:target},bindEvents(instance)))}on(event,callback){EVENT_LISTENERS[event]||(EVENT_LISTENERS[event]=[]),EVENT_LISTENERS[event].push(callback)}trigger(event){EVENT_LISTENERS[event]&&triggerEvent(event,null,null)}pause(){trigger("pause")}play(){trigger("play")}mute(){trigger("mute")}unmute(){trigger("unmute")}}});
Modulr.define("fox-news.hp:modules/ad-placements/desktop",["require","jquery","lodash","modules/ad-placements/shared"],function(require,$,_){return function(Strike,Config){require("modules/ad-placements/shared").triggerDyanamicAds("desktop")}});
Modulr.define("fox-news.hp:modules/ad-placements/index",["require","core.base:modules/strike"],function(require,StrikeApp){StrikeApp(function(Strike,Config){var view="function"==typeof Strike.getCurrentViewMode?Strike.getCurrentViewMode():null;if(view)switch(view){case"desktop":require(["modules/ad-placements/desktop"],function(App){App(Strike,Config)});break;case"tablet":require(["modules/ad-placements/tablet"],function(App){App(Strike,Config)});break;case"mobile":require(["modules/ad-placements/mobile"],function(App){App(Strike,Config)})}})});
Modulr.define("fox-news.hp:modules/ad-placements/mobile",["require","jquery","lodash","modules/ad-placements/shared"],function(require,$,_){return function(Strike,Config){require("modules/ad-placements/shared").triggerDyanamicAds("mobile")}});
Modulr.define("fox-news.hp:modules/ad-placements/shared",["require","jquery","lodash"],function(require,$,_){return new class{constructor(){this.TEST_PLACEMENTS=window.location.search.includes("_testaddynamic=1")}triggerDyanamicAds(pos){window.foxstrike=window.foxstrike||{},window.foxstrike.cmd=window.foxstrike.cmd||[],window.foxstrike.cmd.push(Strike=>{"function"==typeof Strike.pageLoadDynamicAdPlacementsReady&&Strike.pageLoadDynamicAdPlacementsReady(pos)})}sizeArr(val){return Array.isArray(val)?val:"string"==typeof val&&0<val.length?val.replace(/\s+/g,"").split(","):[]}generateTestPlacements(attr){let size=this.getRandomSize(attr.sizes),sizesStr="string"==typeof attr.sizes?attr.sizes:attr.sizes.join(","),idStr=attr.id?"; id="+attr.id:"",res=`<h4>TEST AD HERE: [ iu=${attr.iu} ${idStr} ]</h4>
                <div style="display:none;">${JSON.stringify(attr)}</div>
                `;return size&&(res+=`<img data-ad-iu="${attr.iu}" data-ad-sizes="${sizesStr}" src="https://web.archive.org/web/20240116141040/https://placehold.jp/${size}.png"/>`),res}getRandomSize(sizes){let arr=Array.isArray(sizes)?sizes:sizes.split(","),len=arr.length,res=null;let found=!1;for(;!found;){var sz=arr[Math.floor(Math.random()*len)];/\d{1,}x\d{1,}/.test(sz)&&"1x1"!==sz&&(res=sz,found=!0)}return res}log(){if(window.console&&window.location.search.includes("_ad_log=1")){var args=Array.prototype.slice.call(arguments);args.unshift("[ads]");try{return window.console.log.apply(console,args)}catch(err){}}}}});
Modulr.define("fox-news.hp:modules/ad-placements/tablet",["require","jquery","lodash","modules/ad-placements/shared"],function(require,$,_){return function(Strike,Config){require("modules/ad-placements/shared").triggerDyanamicAds("tablet")}});
Modulr.define("fox-news.hp:modules/ads",["require","jquery","helper","isa","core.plugins:LoadAttempt"],function(require,$,Helper,ISA){var GPT=ISA.provider("gpt"),CLICK_TRACK_INITIALIZED=(require("core.plugins:LoadAttempt"),!1),CLICK_TRACK_TIMEOUT=!1,OVER_LINK_TAG=!1,OVER_INTCMP_VAL=!1,OVER_INTCMP_EXTERNAL=!1;return new function(){var Proto=this,SERIALIZE_HASH=Helper.serialize();Proto.init=function(){Proto.clickTrack();var target,container=$(".page > .pre-content .ad-container.desktop:first");Helper.isAuthor()?container.removeClass("collapse"):(target=container.find("> .ad.gpt:first"))&&target[0]&&GPT.onAdSlotRendered(target,function(info){info.data.isEmpty||(info=Array.isArray(info.data.size)&&2===info.data.size.length?info.data.size:null)&&1===info[0]&&1===info[1]||container.removeClass("collapse")})},Proto.track=function(type,data){ISA.track(type,data)},Proto.clickTrack=function(force){function trigger(){CLICK_TRACK_ATTEMPT||(CLICK_TRACK_ATTEMPT=!0,ISA.track("fn-hp-link-clicks",{intcmp:OVER_INTCMP_VAL,external:OVER_INTCMP_EXTERNAL,serialize:SERIALIZE_HASH})),clearTimeout(CLICK_TRACK_TIMEOUT),CLICK_TRACK_TIMEOUT=setTimeout(function(){CLICK_TRACK_ATTEMPT=!1},500)}var CLICK_TRACK_ATTEMPT=!1;force?trigger():CLICK_TRACK_INITIALIZED||(CLICK_TRACK_INITIALIZED=!0,force="ontouchstart"in document.documentElement?"ontouchstart":"mousedown",$("body").on(force,"a, input[type='submit']",function(){var el=$(this),intcmp=el.attr("data-omtr-intcmp")||null,el=el.attr("href")||"";OVER_INTCMP_VAL=intcmp,1<el.length&&(OVER_INTCMP_EXTERNAL=ISA.provider("intCmp").isExternalLink(el))}),$("body").on("mouseover","a, input[type='submit']",function(){OVER_LINK_TAG=!0}).on("mouseout","a, input[type='submit']",function(){OVER_LINK_TAG=!1}),$(document).on("click",function(){OVER_LINK_TAG&&trigger()}))}}});
Modulr.define("fox-news.hp:modules/bigtop",["require","helper","core.video:api","models/video.controls","core.base:utils/page.reload"],(require,Helper,Video)=>{const PageReload=require("core.base:utils/page.reload");return new class{constructor(){this.target=document.querySelector(".main-content .big-top"),this.target&&(this.articleContainer=this.target.querySelector(".article"),this.inlinePlay=this.articleContainer.classList.contains("embed-video"),this.mediaContainer=this.articleContainer.querySelector(".m"),this.hasSlideshow=!!this.target.querySelectorAll(".content-item-slideshow-animation").length,this.videoConfig={hasVideo:this.articleContainer.classList.contains("has-video"),autoplay:(!Helper.isMobileView()||this.mediaContainer.hasAttribute("data-video-anchor"))&&this.articleContainer.hasAttribute("data-autoplay-muted"),muted:"1"===this.articleContainer.getAttribute("data-autoplay-muted"),mutedLive:this.mediaContainer.hasAttribute("data-video-anchor")&&this.articleContainer.hasAttribute("data-autoplay-muted"),autoplayOff:"none"===this.articleContainer.getAttribute("data-autoplay-muted"),initialized:!1,VideoControls:require("models/video.controls"),videoId:this.mediaContainer.getAttribute("data-video-id"),videoDomain:this.mediaContainer.getAttribute("data-video-domain")})}init(){this.initializeVideo()}initializeVideo(){this.target&&this.inlinePlay&&(this.videoConfig.hasVideo&&!this.videoConfig.autoplayOff?this.videoConfig.autoplay&&this.render(!0):this.articleContainer.querySelectorAll("a").forEach(anchor=>{anchor.addEventListener("click",evt=>{evt.preventDefault(),this.render(!0)})}))}render(autoplay){let videoConfig=this.videoConfig;this.mediaContainer.getAttribute("data-video-id");var trueVideoId=(el=>{let res=null;el=el.querySelector("a")||null,el=el?el.getAttribute("href"):null;if(el)try{res=(el.split("/video/")[1]||"").replace(/[^0-9]/g,"")}catch(err){console.warn("error parsing id for:",el)}return res})(this.mediaContainer),trueVideoId=(trueVideoId&&this.mediaContainer.setAttribute("data-video-id",trueVideoId),this.mediaContainer),videoProperties={app:{rules:["heartbeat","playername:hpvideo"]}},instance=(autoplay&&videoProperties.app.rules.push("autoplay"),videoConfig.mutedLive&&videoProperties.app.rules.push("noAds"),Video.embed(trueVideoId,videoProperties));this.videoConfig.VideoControls.addInstance(trueVideoId,instance),instance&&(instance.on("amp.play",()=>{PageReload.clear()}),instance.on("amp.ads.started",()=>{PageReload.clear()}),instance.on("amp.pause",()=>{PageReload.reset()}),instance.on("amp.ads.pause",()=>{PageReload.reset()}),instance.on("amp.fullscreenchange",data=>{var foxstrike;(foxstrike=window.foxstrike||{}).cmd=foxstrike.cmd||[],foxstrike.config&&foxstrike.cmd.push(Strike=>{data.amp?"function"==typeof Strike.onVideoOverlayOpen&&Strike.onVideoOverlayOpen():"function"==typeof Strike.onVideoOverlayClose&&Strike.onVideoOverlayClose()})}),instance.on("player.ready",()=>{videoConfig.muted&&instance.trigger("mute"),autoplay&&instance.trigger("play")}))}}});
Modulr.define("fox-news.hp:modules/embedded-livestream",["require","lodash","helper","core.video:api","models/video.controls","core.base:utils/detector"],function(require,_,Helper,Video){const VideoControls=require("models/video.controls"),Detector=require("core.base:utils/detector"),loaded_view=Detector.current(),VIDEO_CONFIGS={GO_ID:"5614615980001",GO_PREVIEW_ID:"6189191231001"};return new class{constructor(){this.el=document.querySelector(".article-watch-live"),this.liveStreamContainer=this.el?this.el.querySelector(".live-stream"):null,this.bigTopVidExists=Helper.hasBigTopVideo(),this.hasVideo=!this.bigTopVidExists,this.isVisible=Helper.isVisible(this.el),this.videoInstance=null}init(){if("desktop"!==loaded_view&&!this.isVisible)return!1;this.render()}render(){if(!this.liveStreamContainer)return!1;document.querySelector(".sidebar .promo-watch-live .m").remove();var videoProps={app:{videoId:VIDEO_CONFIGS.GO_PREVIEW_ID,rules:["noAds","foxnews","noTracking","noTitleBar","previewMode","noKrux","autoplay:muted","playername:LIVE_VIDEO"]},player:{mode:"html-auto",usersettings:{enabled:!1},controls:{mode:"none"},hls:{quality:{startLevel:-1}},plugins:{wtAdTracer:{enabled:!1}}}};let videoInstance=Video.embed(this.liveStreamContainer,videoProps);(this.videoInstance=videoInstance)&&(videoInstance.on("player.ready",()=>{videoInstance.trigger("mute")}),VideoControls.addInstance(this.liveStreamContainer,videoInstance))}pause(){this.videoInstance&&this.videoInstance.trigger("pause")}play(){this.videoInstance&&this.videoInstance.trigger("play")}}});
Modulr.define("fox-news.hp:modules/embeded-videos",["require","helper","core.video:api","models/video.controls","core.base:utils/page.reload"],(require,Helper,Video)=>{const PageReload=require("core.base:utils/page.reload");return new class{constructor(){this.targets=document.querySelectorAll(".article.embed-video:not([data-autoplay-muted])"),this.videoConfig={initialized:!1,VideoControls:require("models/video.controls")}}init(){this.targets.length<=0||(this.setEvents(),this.videoConfig.initialized=!0)}setEvents(){const self=this;this.targets.forEach(embed=>{var anchors=embed.querySelectorAll("a");let mediaContainer=embed.querySelector(".m");anchors.forEach(anchor=>{anchor.addEventListener("click",evt=>{evt.preventDefault(),self.render(mediaContainer)})})})}render(selector){var instance=Video.embed(selector,{app:{rules:["playername:hpvideo","foxnews","autoplay"]}});this.videoConfig.VideoControls.addInstance(selector,instance),instance&&(instance.on("amp.play",()=>{PageReload.clear()}),instance.on("amp.ads.started",()=>{PageReload.clear()}),instance.on("amp.pause",()=>{PageReload.reset()}),instance.on("amp.ads.pause",()=>{PageReload.reset()}),instance.on("amp.fullscreenchange",data=>{var foxstrike;(foxstrike=window.foxstrike||{}).cmd=foxstrike.cmd||[],foxstrike.config&&foxstrike.cmd.push(Strike=>{data.amp?"function"==typeof Strike.onVideoOverlayOpen&&Strike.onVideoOverlayOpen():"function"==typeof Strike.onVideoOverlayClose&&Strike.onVideoOverlayClose()})}),instance.on("player.ready",()=>{instance.trigger("play")}))}}});
Modulr.define("fox-news.hp:modules/header-market",["require","jquery","helper","core.plugins:MarketWidget"],function(require,$,Helper){var MarketWidget=require("core.plugins:MarketWidget");return new class{constructor(){this.marketOptions={holder:$(".markets-nav .market-data > ul"),header:!0}}init(){MarketWidget.init(this.marketOptions)}}});
Modulr.define("fox-news.hp:modules/image.lazy.load",["require","jquery","lodash","helper","core.plugins:ImageLazyLoad"],function(require,$,_,Helper){const LazyLoad=require("core.plugins:ImageLazyLoad"),lazyLoadConfig={srcsetReplace:"srcset"};return new class{constructor(){this.images=$("img[data-src]")}init(){0<this.images.length&&LazyLoad(this.images,500,elm=>{this.set(elm)},lazyLoadConfig)}set(elm){elm.attr("style")&&elm.css("opacity","");var elm=elm.parent(),slideshow=elm.parent(".content-item-slideshow-animation");(0<slideshow.length?slideshow:elm).siblings(".overlay.inline-overlay").removeClass("hide")}}});
Modulr.define("fox-news.hp:modules/live-updates",["require","jquery","lodash","config","core.plugins:MultiFeedParser","core.plugins:AppWebviewEvents"],function(require,$,_){const CONFIG=require("config"),MultiFeedParser=require("core.plugins:MultiFeedParser"),AppWebviewEvents=require("core.plugins:AppWebviewEvents"),webview=new AppWebviewEvents;return new class{constructor(){this.lbtargets=document.querySelectorAll("[data-liveblog-update-component]"),this.feedParser={parser:0<this.lbtargets.length?new MultiFeedParser(CONFIG.feeds.parserConfig):null,feeds:[]}}init(){if(0<this.lbtargets.length)for(let lb of this.lbtargets)this.fetchLBData(lb,lbData=>{this.updateLBComponent(lb,lbData)})}addLBFeed(feedId,feedPath){let self=this;this.feedParser.parser&&this.feedParser.feeds.indexOf(feedId)<0&&(this.feedParser.parser.event.addFeed({type:feedId,url:feedPath,normalize:function(data){return self.normalizeFeedData(data)}}),this.feedParser.feeds.push(feedId))}fetchLBData(lb,callback){if(!lb)return null;let liveblogUrl=lb.getAttribute("data-liveblog-update-component"),pieces=liveblogUrl.split("live-news/"),feedPath=`${pieces[0]}live-news/feed/content/${pieces[1]}.json`,feedId="lb-post-feed:"+feedPath;this.feedParser.parser&&(this.addLBFeed(feedId,feedPath),this.feedParser.parser.event.getData(feedId,function(data){callback&&"function"==typeof callback&&(data={url:liveblogUrl,feedUrl:feedPath,posts:data},callback(data))}))}updateLBComponent(lbComponent,lbData){if(!lbComponent||!lbData)return null;let currentPostsList=lbComponent.querySelector(".live-updates-list"),lbUrl=lbData.url||"",posts=lbData.posts||[];if(posts.length<=0)return lbComponent.querySelector(".no-post").length<=0?this.setNoPost(lbComponent):null;currentPostsList||((lbData=document.createElement("ul")).classList.add("live-updates-list"),lbComponent.append(lbData),currentPostsList=lbData);var post,newPostList=document.createElement("ul");newPostList.classList.add("live-updates-list");for(post of posts){var li=document.createElement("li"),a=document.createElement("a");a.setAttribute("href",""+lbUrl),a.setAttribute("data-omtr-intcmp","fnhplb"+post.index),a.innerText=post.title,li.appendChild(a),newPostList.appendChild(li)}currentPostsList&&((lbComponent=currentPostsList.parentNode).removeChild(currentPostsList),lbComponent.appendChild(newPostList)),webview.sendHeight(),webview.allowedLinks([lbUrl])}setNoPost(lbComponent){var noPost=document.createElement("p");noPost.classList.add("no-post"),noPost.innerText="There are no posts available yet.",lbComponent.append(noPost)}normalizeFeedData(data){let blogItemLength=data.items.length,posts=[],blogItems=data.items||[];var latestPost=_.find(blogItems,p=>p.originalIndex===blogItemLength-1);latestPost&&(blogItems.splice(blogItems.indexOf(latestPost),1),blogItemLength=data.items.length);for(let i=0;i<3;i++){var post=_.find(blogItems,p=>p.originalIndex===blogItemLength-1-i);if(post&&void 0!==post){let key=post.id;post={index:blogItemLength-_.findIndex(blogItems,function(pi){return pi.id===key}),title:post.title,timestamp:post.timestamp};posts.push(post)}}return posts}}});
Modulr.define("fox-news.hp:modules/newsletter",["require","jquery","lodash","helper","core.components:newsletter"],function(require,$,_){require("helper");var Newsletter=require("core.components:newsletter");return new function(){this.init=function(SLID){var forms=$("form.form-newsletter");if(0===forms.length)return!1;forms.each(function(){var form=$(this),input=form.find("input[type='email']"),submit_btn=form.find("input[type='submit']"),error_msg=form.siblings(".message.error"),success_msg=form.siblings(".message.success"),close_btn=form.siblings(".message").find(".close a"),SLID=form.attr("data-slid")||SLID;Newsletter.set({elm:form,SLID:SLID||"3DC725E303A24F8D106D04335B030A1E",INPUT:input,INPUT_STR:" ",onError:function(){form.addClass("hide"),error_msg.removeClass("hide")},onSuccess:function(){var nationRedirectUrl;form.addClass("hide"),success_msg.removeClass("hide"),form.hasClass("form-nation-email")&&(nationRedirectUrl=0<submit_btn.length?submit_btn.attr("data-email-ct"):"https://web.archive.org/web/20240116141040/https://https//try.nation.foxnews.com",setTimeout(function(){window.open(nationRedirectUrl,"_blank")},1e3))}});close_btn.on("click",function(evt){evt.preventDefault(),input.val(" "),success_msg.addClass("hide"),error_msg.addClass("hide"),form.removeClass("hide")})})}}});
Modulr.define("fox-news.hp:modules/playlist",["require","helper","core.video:api","models/video.controls","core.base:utils/page.reload"],(require,Helper,Video)=>{const PageReload=require("core.base:utils/page.reload");let CURRENT_VIDEO=null;return new class{constructor(){this.targets=document.querySelectorAll(".main-content-secondary .collection-video-playlist"),this.currentPlayer=null,this.videoConfig={initialized:!1,VideoControls:require("models/video.controls")}}init(){this.setEvents()}setEvents(){const self=this;0<self.targets.length&&self.targets.forEach(target=>{let videoIds=[],topArticle=target.querySelector(".m");var videoAnchor=topArticle.querySelector("a"),target=target.querySelectorAll(".content-list .video-items .list-container .article");videoAnchor.addEventListener("click",evt=>{evt.preventDefault(),CURRENT_VIDEO=videoIds[0],self.render(topArticle,videoIds)}),target.forEach(item=>{let videoId=item.querySelector(".m").getAttribute("data-video-id");videoIds.push(videoId),item.addEventListener("click",evt=>{evt.preventDefault(),CURRENT_VIDEO=videoId,self.render(topArticle,videoIds)})})})}render(selector,videoIds){const self=this;let videoTarget=selector,videoProperties={app:{rules:["playername:hpvideo","foxnews","autoplay","noAds","autoAdvance"]},player:{autoadvance:{enabled:!0,interval:2}}};var instance=Video.embed(videoTarget,videoProperties);self.videoConfig.VideoControls.addInstance(videoTarget,instance);let videoContainer=selector.closest(".collection-video-playlist");instance&&(instance.on("amp.play",()=>{var target,currentId;!instance||(target=0<instance._target.length?instance._target[0]:null)&&(currentId=target.getAttribute("data-video-id"),target=target.closest(".playlist-container").querySelector(".video-items").querySelector(`[data-video-id='${currentId}']`),currentId=self.currentPlayer,self.currentPlayer=target,self.changeOverlay(currentId),PageReload.clear())}),instance.on("amp.ads.started",()=>{PageReload.clear()}),instance.on("amp.pause",()=>{PageReload.reset()}),instance.on("amp.ads.pause",()=>{PageReload.reset()}),instance.on("amp.advance",function(data){var current=CURRENT_VIDEO,current=videoIds.indexOf(current)+1;CURRENT_VIDEO=videoIds[current>videoIds.length-1?0:current],current===videoIds.lastIndexOf(CURRENT_VIDEO)&&(current=self.currentPlayer,self.currentPlayer=videoContainer.querySelector(`[data-video-id="${CURRENT_VIDEO}"] > a`),self.changeOverlay(current),instance.change(CURRENT_VIDEO,Object.assign(videoProperties,{app:{rules:["autoplay","autoAdvance"]}})))}),instance.change(CURRENT_VIDEO,Object.assign(videoProperties,{app:{rules:["autoplay","autoAdvance"]}})),instance.on("amp.ended",function(data){var previousPlayer=self.currentPlayer;self.currentPlayer=null,self.changeOverlay(previousPlayer),PageReload.reset()}),instance.on("player.ready",()=>{instance.trigger("play")}),instance.trigger("mute"))}changeOverlay(previousPlayer){var scroller;this.targets.length<=0||(previousPlayer&&(previousPlayer.querySelector(".overlay").classList.remove("hide"),previousPlayer.querySelector(".playing-overlay").classList.add("hide"),previousPlayer.querySelector(".video-duration").classList.remove("hide")),this.currentPlayer&&((previousPlayer=this.currentPlayer).querySelector(".overlay").classList.add("hide"),previousPlayer.querySelector(".playing-overlay").classList.remove("hide"),previousPlayer.querySelector(".video-duration").classList.add("hide"),scroller=previousPlayer.closest(".is-scrollable"),previousPlayer=previousPlayer.closest(".article"),window.innerWidth<1280?scroller.scroll({left:previousPlayer.offsetLeft,behavior:"smooth"}):scroller.scroll({top:previousPlayer.offsetTop-16,behavior:"smooth"})))}}});
Modulr.define("fox-news.hp:modules/polling",["require","jquery","lodash"],function(require,$,_){return window._weather_polling_instance=window._weather_polling_instance||new function(props){var Proto=this,callbacks=[],_t=null;Proto.init=function(func,params){_t=_t||setInterval(function(){Proto.poll()},6e5),Proto.addFunction(func,params)},Proto.poll=function(){for(var i=0;i<callbacks.length;i++)callbacks[i].func.apply(null,callbacks[i].params||[])},Proto.addFunction=function(func,params){callbacks.push({func:func,params:params||null})},Proto.kill=function(){clearInterval(_t),_t=null}}});
Modulr.define("fox-news.hp:modules/right.rail.video",["require","lodash","helper","core.video:api","models/video.controls","core.base:utils/detector"],function(require,_,Helper,Video){const VideoControls=require("models/video.controls"),Detector=require("core.base:utils/detector"),loaded_view=Detector.current(),VIDEO_CONFIGS={GO_ID:"5614615980001",GO_PREVIEW_ID:"6189191231001"};return new class{constructor(){this.el=document.querySelector(".promo-watch-live"),this.inlineLiveStream=document.querySelector(".article-watch-live"),this.liveStreamContainer=this.el?this.el.querySelector(".live-stream"):null,this.bigTopVidExists=Helper.hasBigTopVideo(),this.hasVideo=!this.bigTopVidExists,this.isVisible=Helper.isVisible(this.el),this.videoInstance=null}init(){if("desktop"!==loaded_view&&!this.isVisible&&this.inlineLiveStream)return!1;this.render()}render(){if(!this.liveStreamContainer)return!1;var videoProps={app:{videoId:VIDEO_CONFIGS.GO_PREVIEW_ID,rules:["noAds","foxnews","noTracking","noTitleBar","previewMode","noKrux","autoplay:muted","playername:LIVE_VIDEO"]},player:{mode:"html-auto",usersettings:{enabled:!1},controls:{mode:"none"},hls:{quality:{startLevel:-1}},plugins:{wtAdTracer:{enabled:!1}}}};let videoInstance=Video.embed(this.liveStreamContainer,videoProps);(this.videoInstance=videoInstance)&&(videoInstance.on("player.ready",()=>{videoInstance.trigger("mute")}),VideoControls.addInstance(this.liveStreamContainer,videoInstance))}pause(){this.videoInstance&&this.videoInstance.trigger("pause")}play(){this.videoInstance&&this.videoInstance.trigger("play")}}});
Modulr.define("fox-news.hp:modules/schedule",["require","jquery","helper","core.base:utils/environment","core.base:utils/akamai","core.base:utils/detector"],(require,$,Helper)=>{const Detector=require("core.base:utils/detector"),akamaiTime=require("core.base:utils/akamai").time,loaded_view=Detector.current();require=require("core.base:utils/environment").getEnvironment();const SCHEDULE_FEED_PATH=`https://${"prod"===require?"www":require}.foxnews.com/api/live-now`;return new class{constructor(){this.scheduleComponent=document.querySelector(".promo-watch-live.has-live-stream"),this.managedScheduleItems=["fnc","fbn","radio"],this.now=Helper.cacheBuster(5)}init(){return"desktop"===loaded_view&&(this.scheduleComponent?void Promise.all([this.fetchSchedule(),this.fetchRadio()]).then(values=>{var[values,radio]=values,values=[...values.data],radioIndex=values.findIndex(item=>"radio"===item.name);0<=radioIndex&&(values[radioIndex].programs[0].title=this.normalizeRadioData(radio).title),this.updateScheduleItems(this.normalizeScheduleData(values))}).catch(err=>console.log(err)):null)}fetchSchedule(){var date=this.now;return $.ajax({type:"GET",url:SCHEDULE_FEED_PATH+"?dt="+date,dataType:"json",error:function(err){throw Error("an error occurred fetching schedule data",err)}})}fetchRadio(){return $.ajax({type:"GET",url:"https://web.archive.org/web/20240116141040/https://schedule-tool.foxnews.com/schedule/feed/radio.json",dataType:"json",error:function(err){throw Error("an error occurred fetching radio data",err)}})}normalizeRadioData(radioData){const current=akamaiTime.getCurrent();var currentDay=radioData.day.findIndex(item=>new Date(item.show[0].start).getDay()===current.getDay());return{title:radioData.day[currentDay].show.find(show=>{var start=new Date(show.start),end=new Date(show.end);if(start<=current&&end>=current)return show}).title||"Fox Radio"}}updateScheduleItems(scheduleData){if(!scheduleData)return null;var channel;for(channel of this.managedScheduleItems){var selector=`.schedule-item.${channel} .content > p`,selector=this.scheduleComponent.querySelector(selector),oldSchedule=selector?selector.innerHTML.split("<br>"):null,newSchedule=scheduleData[channel]?scheduleData[channel].programs:null;oldSchedule&&0<oldSchedule.length&&newSchedule&&(oldSchedule[0]=newSchedule.title,selector.innerHTML=oldSchedule.join("<br>"))}}normalizeScheduleData(data){var info={fnc:{programs:null},fbn:{programs:null},weather:{programs:null},radio:{programs:null},live:{programs:null}};if(Array.isArray(data)&&0<data.length)for(var domain of data){if(!domain.name)return;info[domain.name].programs=0<domain.programs.length?domain.programs[0]:null}return info}}});
Modulr.define("fox-news.hp:modules/slideshow",["require","helper"],(require,Helper)=>{return new class{constructor(){this.slideShowTimer=5e3,this.slideShowSets=[],this.targets=document.querySelectorAll(".content-item-slideshow-animation"),this.slideShowInterval=null}init(){this.targets.length<=0||(this.slideShowSets=this.getSlideShowSets(),this.trigger(),this.slideShowInterval=setInterval(()=>{this.trigger()},this.slideShowTimer))}getSlideShowSets(){let sets=[];return this.targets.forEach(target=>{var images=target.getElementsByTagName("picture");images.length<2||(sets.push({parent:target,index:0,limit:images.length-1,slides:images}),target.onmouseover=()=>target.classList.toggle("interact"),target.onmouseout=()=>target.classList.toggle("interact"))}),sets}disableSlides(slides){for(var slide of slides)slide.classList.add("disable")}trigger(){for(var set of this.slideShowSets){if(set.parent.classList.contains("interact"))return;var nextSlide=set.index+1>set.limit?0:set.index+1;this.disableSlides(set.slides),set.slides[nextSlide].classList.remove("disable"),set.index=nextSlide}}}});
Modulr.define("fox-news.hp:modules/sticky.rail",["require","jquery","lodash"],function(require,$,_){return new function(target){var Proto=this,win=$(window),viewport=win.height(),primary_sidebar=(win.width(),$(".sidebar-primary")),content_sidebar=$(".region-content-sidebar"),content_secondary=$(".region-content-sidebar-secondary"),secondary_sidebar=$(".sidebar-secondary"),sticky_region_secondary=($(".sticky-columns"),secondary_sidebar.find(".sticky-region")),sticky_region_primary=primary_sidebar.find(".sticky-region"),sticky_region=$(".sticky-region"),OnWindowResize=require("core.plugins:OnWindowResize"),scroll_primary=primary_sidebar.scrollTop(),scroll_secondary=secondary_sidebar.scrollTop();Proto.init=function(){win.on("scroll resize mousewheel wheel touchmove orientationchange",function(){win.width()<1024&&Proto.reset(),Proto.primaryScroll(),Proto.secondaryScroll()})},Proto.reset=function(){$(".sticky-region").each(function(){$(this).removeClass("sticky-area").css("top","")})},OnWindowResize(function(){Proto.reset(),0},100),Proto.primaryScroll=function(){if(1024<=win.width()){if(sticky_region_primary.addClass("sticky-area"),viewport>sticky_region_primary.height())sticky_region_primary.css("top",16);else{if(content_sidebar.height()===sticky_region.height())return;sticky_region_primary.css("top",scroll_primary)}0}},Proto.secondaryScroll=function(){if(1024<=win.width()){if(sticky_region_secondary.addClass("sticky-area"),viewport>sticky_region_secondary.height())sticky_region_secondary.css("top",3);else{if(content_secondary.height()===sticky_region.height())return;sticky_region_secondary.css("top",scroll_secondary)}0}}}});
Modulr.define("fox-news.hp:modules/timestamp",["require","jquery","lodash","helper","core.plugins:DateTime"],function(require,$,_){var Helper=require("helper"),DateTime=require("core.plugins:DateTime");return new function(){var CONFIG={container_selector:".meta .time",attribute_name:"data-time-published",attribute_formatted:"timePublished",auto_update:!1,update_interval_in_min:1},components=[],Proto=this;Proto.collector=function(){components.length=0;var elements=$(CONFIG.container_selector+"["+CONFIG.attribute_name+"]");_.forEach(elements,function(item){var item=$(item),attr=item.data(CONFIG.attribute_formatted),ignore=item.hasClass("live-video");attr&&!ignore&&(ignore=new Date(attr),components.push({element:item,then:ignore,diff:{},label:""}))})},Proto.calculator=function(increment){var now=Helper.getCurrentTime();_.forEach(components,function(item){var formattedText="",previousText=item.label,delta=(increment&&(item.delta+=increment),now.getTime()-item.then.getTime()),delta=(item.diff={seconds:Math.floor(delta/1e3),mins:Math.floor(delta/6e4),hours:Math.floor(delta/36e5),days:Math.floor(delta/864e5)},6<item.diff.days?(formattedText=DateTime(item.then,"${month} ${ddTH}"),(delta=item.then.getFullYear())!==now.getFullYear()&&(formattedText+=", "+delta),item.label=formattedText):(formattedText=function(label){return[item.diff[label],1<item.diff[label]?label:label.substr(0,label.length-1),"ago"].join(" ")},23<item.diff.hours?item.label=formattedText("days"):59<item.diff.mins?item.label=formattedText("hours"):59<item.diff.seconds?item.label=formattedText("mins"):0<item.diff.seconds&&item.diff.seconds<59&&(item.label="just in")),{alert:!1,item:item,label:item.label});item.diff.mins<60?previousText!==item.label&&(0===item.label.length?item.element.addClass("hide"):(item.element.text(item.label),item.element.hasClass("hide")&&item.element.removeClass("hide"))):delta.alert=!0,item.element.data("rawTimestamp",delta),item.element.trigger("evt.rawTimestamp",delta)})},Proto.init=function(){Proto.trigger({auto_update:"true"})},Proto.trigger=function(configuration){var updateInterval;configuration&&(CONFIG=_.merge(CONFIG,configuration)),Proto.collector(),Proto.calculator(),CONFIG.auto_update&&(updateInterval=6e4*CONFIG.update_interval_in_min,setInterval(function(){Proto.calculator(updateInterval)},updateInterval))}}});
Modulr.define("fox-news.hp:modules/tracking",["require","jquery","lodash","helper","isa","core.plugins:EventMessageHandler"],function(require,$,_,Helper,ISA,EventMessageHandler){var container,Campaign=ISA.provider("intCmp"),DYNAMIC={},EventMessageHandler=new EventMessageHandler;let topicIndex=0,opinionIndex=0;function set(target,code,adCode){target.each(function(){var atag=$(this);atag.parent("span").hasClass("eyebrow")?Campaign.setCode(atag,code+"_eyebrow",adCode||code):Campaign.setCode(atag,code,adCode)})}(container=$(".page .main-content-secondary")).find(".collection:not(.collection-topic) .content > .article:not(:has(.vendor)").each(function(i){set($(this).find(".eyebrow > a"),function(){var args=Array.prototype.slice.call(arguments);return args.unshift("fnhpriver"),args.join("")}("_"+(i+1)))}),container.find(".collection-topic").each(function(collectionIndex){var collection=$(this),isOpinion=collection.hasClass("is-opinion"),theme=collection.hasClass("dark")?"dark":"light",collectionHeader=collection.find(".heading .title"),collectionHeader=0<collectionHeader.length?collectionHeader.text().split(" ").join("_").toLowerCase():"";let topicPrefix="fnhpriver";topicPrefix=isOpinion?(opinionIndex++,`${topicPrefix}_opinion${opinionIndex}_${theme}_`):(topicIndex++,`${topicPrefix}_topic${topicIndex}_${theme}_${collectionHeader}_`),collection.find(".content > article").each(function(articleIndex){set($(this).find(".eyebrow > a"),""+topicPrefix+(articleIndex+1))})}),EventMessageHandler.addHandler("component-iframed.covid-19-vaccine-distribution",function(data){data&&"vaccineDistributionInteraction"===data.event&&ISA.track("hp-rr-vaccine-dist",data.data)}),EventMessageHandler.addHandler("component-iframed.covid-19-vaccine-finder",function(data){data&&"vaccineFinderInteraction"===data.event&&ISA.track("internal-campaign",{intcmp:"hp1rr_vaxfinder",external:!1})});return new function(){this.update=function(id){id&&"function"==typeof DYNAMIC[id]&&DYNAMIC[id]()}}});
Modulr.define("fox-news.hp:modules/trending",["require","jquery","helper"],function(require,$,Helper){return new class{constructor(){}cycleTrending(){var trendingItems=$(".hot-topics .trending-item li"),totalTime=5*trendingItems.length;function cycleHTUs(){trendingItems.each(function(index){$(this).css("animation","rotate-items "+totalTime+"s infinite "+5*index+"s ease-in-out")})}function removeHTUStyles(){trendingItems.each(function(index){$(this).attr("style","")})}(767<window.innerWidth&&window.innerWidth<1280?cycleHTUs:removeHTUStyles)(),window.addEventListener("resize",()=>{(767<window.innerWidth&&window.innerWidth<1280?cycleHTUs:removeHTUStyles)()})}init(){this.cycleTrending()}}});
Modulr.define("fox-news.hp:modules/weather-widget",["require","core.templates:api","fox-news.hp:modules/polling","core.base:utils/akamai"],function(require,Template,Polling){var Location=require("core.base:utils/akamai").geo,HEADER_TEMPLATE_MARKUP=!1,SNACK_TEMPLATE_MARKUP=!1,EVENTS_SET=!1,_zip=null;function set(){!function(){if("US"===Location.get().countryCode)return 1;document.querySelector(".weather-widget")&&(document.querySelector(".weather-widget").style.display="none")}()||fetch("https://web.archive.org/web/20240116141040/https://api.foxweather.com/web/aggregate?postal_code="+(_zip||getZip())).then(response=>{if(response.ok)return response.json();throw new Error("HTTP error! status: "+response.status)}).then(data=>{_zip&&(setCookie("FXN_w_locinfo",_zip,100),_zip=null),function(data){var d,i=0;for(i=0;i<data.hourly.length;i++)d=new Date(data.hourly[i].datetime.replace(/-\d{4}$/gi,"")),d=d.getHours(),data.hourly[i].hours=12<=d?d-12:d,data.hourly[i].ampm=12<=d?"pm":"am",0===data.hourly[i].hours&&12===d?(data.hourly[i].hours=12,data.hourly[i].ampm="pm"):0===d&&(data.hourly[i].hours=12,data.hourly[i].ampm="am");for(i=0;i<data.daily.length;i++){var dt=data.daily[i].datetime,dt=new Date(function(dateString){var[,dateString,month,d]=/(\d{4})-(\d{1,2})-(\d{1,2})/.exec(dateString);return new Date(dateString,month-1,d)}(dt)).toDateString().slice(0,3);data.daily[i].day=dt}data.hourly[0].hours="Today",data.hourly[0].ampm="",data.daily[0].day="Today";var obj={city:data.location.city,state:data.location.state,high:data.current.high,low:data.current.low,temperature:data.hourly[0].temperature.value,icon_code:data.current.icon_code,image:data.current.image,phrase:data.current.phrase,hourly:data.hourly.slice(0,4),daily:data.daily.slice(0,4),zip:getZip()};function interpolate(template,params){var keys=Object.keys(params),params=Object.values(params);return new Function(...keys,`return \`${template}\``)(...params)}Template.get("/static/orion/scripts/fox-news/hp-v3/app/modules/templates/weather-widget.html",function(html1){(HEADER_TEMPLATE_MARKUP=document.querySelector(".weather-widget"))&&(HEADER_TEMPLATE_MARKUP.innerHTML=interpolate(html1.toString().trim(),obj),(html1=document.querySelector(".weather-widget").getElementsByClassName("city")[0])&&html1.offsetWidth<html1.scrollWidth&&(html1.classList.add("animate-cycle"),html1.style=`--citylength: -${html1.scrollWidth-html1.clientWidth}px`))}),Template.get("/static/orion/scripts/fox-news/hp-v3/app/modules/templates/snackbar-widget.html",function(html2){(SNACK_TEMPLATE_MARKUP=document.querySelector(".weather-widget-snackbar"))&&(SNACK_TEMPLATE_MARKUP.innerHTML=interpolate(html2.toString().trim(),obj))});var weatherWidget=document.querySelector(".weather-widget");weatherWidget&&weatherWidget.classList.remove("hide")}(data.data);var submitClick=!1;if(!EVENTS_SET){let navbar=document.querySelector(".weather-widget");if(navbar){navbar.addEventListener("click",function(event){event.target.parentNode.matches(".location")&&(event.preventDefault(),event.target.parentNode.parentNode.classList.add("open"),(event=navbar.querySelector(".current-nav-weather-edit-zip")).style.display="flex",event.querySelector("input").focus())}),navbar.addEventListener("keyup",function(event){var navbarZip;event.target.matches(".current-nav-weather-edit-zip input")&&(event.target.value=event.target.value.replace(/[^0-9]+/gi,""),navbarZip=document.querySelector(".current-nav-weather-edit-zip input").value,13===event.keyCode&&submitZip(navbarZip))}),navbar.addEventListener("click",function(event){event.target.matches("button")&&(submitZip(document.querySelector(".current-nav-weather-edit-zip input").value),submitClick=!1)}),navbar.addEventListener("mousedown",function(event){event.target.matches("button")&&(submitClick=!0)}),navbar.addEventListener("blur",function(event){event.target.matches(".current-nav-weather-edit-zip input")&&!submitClick&&(navbar.querySelector(".current-nav-weather-edit-zip").style.display="none")},!0);let snackbar=document.querySelector(".weather-widget-snackbar");snackbar.addEventListener("click",function(event){var currentWeather;event.target.matches(".city")&&(event.preventDefault(),event.target.parentNode.parentNode.classList.add("open"),event=snackbar.querySelector(".current-weather-edit-zip"),currentWeather=snackbar.querySelector(".current-weather"),event.style.display="flex",event.querySelector("input").focus(),currentWeather.style.display="none")}),snackbar.addEventListener("keyup",function(event){var snackbarZip;event.target.matches(".current-weather-edit-zip input")&&(event.target.value=event.target.value.replace(/[^0-9]+/gi,""),snackbarZip=document.querySelector(".current-weather-edit-zip input").value,13===event.keyCode&&submitZip(snackbarZip))}),snackbar.addEventListener("click",function(event){event.target.matches("button")&&(submitZip(document.querySelector(".current-weather-edit-zip input").value),submitClick=!1)}),snackbar.addEventListener("mousedown",function(event){event.target.matches("button")&&(submitClick=!0)}),snackbar.addEventListener("blur",function(event){event.target.matches(".current-weather-edit-zip input")&&!submitClick&&(event.target.closest(".current-location"),snackbar.querySelector(".current-weather-edit-zip").style.display="none",snackbar.querySelector(".current-weather").style.display="block")},!0),EVENTS_SET=!0}}}).catch(error=>{console.error(error),errorZip()})}function submitZip(zip){(/^\d{5}$/.test(zip)?(_zip=zip,Polling.poll(),set):errorZip)()}function errorZip(){var navWidgetInput=document.querySelector(".current-nav-weather-edit-zip input"),snackbarWidgetInput=document.querySelector(".current-weather-edit-zip input");navWidgetInput&&navWidgetInput.focus(),snackbarWidgetInput&&snackbarWidgetInput.focus(),setTimeout(function(){document.querySelector(".current-nav-weather-edit-zip input").classList.add("error"),document.querySelector(".current-weather-edit-zip input").classList.add("error"),document.querySelector(".current-nav-weather-edit-zip .current-nav-weather-edit-enter").innerHTML='<button class="zipError">Invalid Zip Code</>',document.querySelector(".current-weather-edit-zip .current-weather-edit-enter").innerHTML='<button class="zipError">Invalid Zip Code</>'},1e3)}function getZip(){let zipCode=function(name){var nameEQ=name+"=",ca=document.cookie.split(";");for(let i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}("FXN_w_locinfo");return/^([0-9]){5}.*$/.test(zipCode)||(zipCode=Location.get().zipRange),/^([0-9]){5}.*$/.test(zipCode)&&setCookie("FXN_w_locinfo",zipCode=zipCode.substring(0,5),100),zipCode}function setCookie(name,value,days){var date,expires="";days&&((date=new Date).setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toUTCString()),document.cookie=name+"="+(value||"")+expires}set()});
Modulr.define("fox-news.hp:modules/webview/features-faces",["helper","core.plugins:AppWebviewEvents"],function(Helper,AppWebviewEvents){return function(){var webview,featuresFaces;Helper.isAppMode()&&(featuresFaces=document.querySelector(".collection-features-faces"))&&(webview=AppWebviewEvents(),featuresFaces=Array.from(featuresFaces.querySelectorAll("a")).map(el=>el.href),webview.allowedLinks(featuresFaces))}});
Modulr.define("fox-news.hp:modules/webview/index",["require","helper","isa","core.plugins:AppWebviewEvents","modules/webview/page-view"],function(require,Helper,ISA,AppWebviewEvents){return new function(){const MONITORED_STORAGE_KEYS=["apps_isDarkMode","apps_usPrivacy","apps_advertiserId"];var Proto=this,webview=AppWebviewEvents(),PageView=require("modules/webview/page-view"),HTML=document.querySelector("HTML"),outbrainUnits=document.querySelectorAll(".outbrain-unit");Proto.init=function(){webview.onEventOnce("isWebview",function(data){Helper.log("webview is initialized")}),webview.onEvent("pageView",PageView),this.registerStorageListener(),webview.ready(),webview.readyV2("homepage"),Proto.chartbeat()},Proto.chartbeat=function(){var meta;ISA&&(meta=ISA.chartbeat.getWebviewMeta(),webview.emitEvent("chartbeatMeta",meta))},Proto.registerStorageListener=function(){window&&window.addEventListener&&window.addEventListener("storage",event=>{0<=MONITORED_STORAGE_KEYS.indexOf(event.key)&&(Helper.log(`webview managed storage item --${event.key}-- was changed:`,event),function(event){if(event){let key=event.key||"",oldVal=event.oldValue||"",newVal=event.newValue||"";if(oldVal!==newVal)switch(key){case"apps_isDarkMode":var theme="true"===newVal?"dark":"light";HTML&&HTML.setAttribute("data-theme",theme),0<outbrainUnits.length&&outbrainUnits.forEach(unit=>{"dark"==theme?unit.setAttribute("data-dark-mode",!0):unit.setAttribute("data-dark-mode",!1)});break;case"apps_usPrivacy":0<outbrainUnits.length&&outbrainUnits.forEach(unit=>{unit.setAttribute("data-usp",newVal)});break;case"apps_advertiserId":0<outbrainUnits.length&&outbrainUnits.forEach(unit=>{unit.setAttribute("data-ob-user-id",newVal)})}}}(event))})}}});
Modulr.define("fox-news.hp:modules/webview/page-view",["require","helper","isa"],function(require,Helper,ISA){return function(){Helper.log("PageView Event Running"),ISA&&(ISA.omni&&"function"==typeof ISA.omni.load&&ISA.omni.load(),ISA.niel&&"function"==typeof ISA.niel.nse&&ISA.niel.nse()),window.leapmetrics=window.leapmetrics||[],window.leapmetrics.push(function(Leap){Leap.initialize(void 0,void 0,!0)})}});
((Modulr,FNC)=>{var config,Instance;Modulr.getInstance("fox-news.hp")||(config={instance:"fox-news.hp",baseDomain:FNC.CDN.domain,baseUrl:"/static/orion/scripts/fox-news/hp-v3/app",masterFile:"/static/orion/scripts/core/utils/modulr/master.js",paths:{},packages:["core.plugins","core.video","core.components","core.templates"],shim:{jquery:{src:"/static/orion/scripts/core/utils/jquery/core.js",exports:"jQuery"},lodash:{src:"/static/orion/scripts/core/utils/lodash.js",exports:"_"},modernizr:{src:"/static/orion/scripts/core/utils/modernizr.js",exports:"Modernizr"},keymaster:{src:"/static/orion/scripts/core/utils/keymaster.js",exports:"key"},"jquery.cookie":{src:"/static/orion/scripts/core/utils/jquery/plugins/cookie.js",exports:"jQuery.cookie"},hls:{src:"/static/orion/scripts/core/utils/hls.js",exports:"Hls"}}},(Instance=Modulr.config(config)).define("cdn",()=>FNC.CDN),Instance.define("isa",()=>FNC.ISA),Instance.require(["main"]),window.FNC.fnhp_loadedModules=window.FNC.fnhp_loadedModules||{},window.FNC.fnhp=window.FNC.fnhp||{load:id=>{id&&Instance.require(["require","helper"],(require,Helper)=>{Helper.log("loading:",id);try{require(["modules/"+id],Module=>{Module&&!window.FNC.fnhp_loadedModules[id]&&(window.FNC.fnhp_loadedModules[id]=!0,Helper.execModules([Module]))})}catch(err){Helper.log("inline load error for:",id,err)}})}})})(window.Modulr,window.FNC);

}
/*
     FILE ARCHIVED ON 14:10:40 Jan 16, 2024 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 20:22:41 Dec 01, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.602
  exclusion.robots: 0.021
  exclusion.robots.policy: 0.009
  esindex: 0.013
  cdx.remote: 11.711
  LoadShardBlock: 323.029 (3)
  PetaboxLoader3.datanode: 150.661 (5)
  PetaboxLoader3.resolve: 4448.621 (2)
  load_resource: 4301.156
  loaddict: 58.955
*/