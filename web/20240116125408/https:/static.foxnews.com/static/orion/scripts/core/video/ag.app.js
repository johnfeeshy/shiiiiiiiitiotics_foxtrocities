var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

/*! updated; 01-09-2024 10:17 PM **/


Modulr.define("core.video:api",["require","jquery","lodash","helper","config","@fnc/embed/main","models/embeds","models/autoadvance","models/get.video","models/ais.auth","models/is.authenticated","akamai.ver","models/ampqueryparse"],function(require,$,_,Helper,CONFIG){function App(){var ret;ret=!1,(ret=-1<(window.location.host||"").indexOf("aem-author")||ret)&&this.setAuthorMode()}var VideoEmbed=require("@fnc/embed/main"),PageEmbeds=require("models/embeds"),AutoAdvance=require("models/autoadvance"),Authentication=require("models/is.authenticated"),GetVideoFeed=require("models/get.video"),AISAuth=require("models/ais.auth"),AKAMAI_VERSION=require("akamai.ver"),ampParse=require("models/ampqueryparse"),PLAYLIST_STACK={};return App.prototype.embed=function(target,opts){if(0===(target=target instanceof HTMLElement?$(target):target).length)return Helper.log("Error: called video embed, no target!"),null;if(1!==target.length)return Helper.log("Error: multiple targets, loop through each one"),null;opts=_.isObject(opts)?_.cloneDeep(opts):{};target=new VideoEmbed(target,opts);return target.set(),AutoAdvance(target),target},App.prototype.provider=function(type,target,opts,callback){require(["views/"+type+"/main"],function(App){new App(target,opts).set(callback)})},App.prototype.__iframe=function(type,opts,callback){require(["@fnc/iframe/main"],function(App){_.merge(opts||{},{app:{leapPageInfo:ampParse()}}),new App(type,opts).set(callback)})},App.prototype.getInfo=function(){return{build:"v"+AKAMAI_VERSION,embeds:PageEmbeds.getInfo()}},App.prototype.getQueryVar=function(val){return Helper.getQueryVar(val)},App.prototype.getVideoFeedById=function(){GetVideoFeed.apply(GetVideoFeed,arguments)},App.prototype.getPlaylistFeed=function(playlistId){var args=arguments,props={},domain=null,callback=null;"object"==typeof args[1]?(domain=(props=args[1]).domain||null,args[2]&&"function"==typeof args[2]&&(callback=args[2])):"function"==typeof args[1]&&(callback=args[1]),!playlistId||!callback||(PLAYLIST_STACK[playlistId]?callback(PLAYLIST_STACK[playlistId]):(args=Helper.getPlaylistFeedUrl(playlistId,{domain:domain||null,moxie:props.moxie||!1}),$.ajax({url:args,dataType:"json",cache:!0,data:{cb:Helper.cacheBuster()}}).done(function(data){data=function(data){var obj={},data=(obj.raw=data).channel.item;return data=Array.isArray(data)?data:[data],obj.items=data,obj}(data);PLAYLIST_STACK[playlistId]=data,callback(data)})))},App.prototype.translateConfig=function(legacy,conds){var arr,legacy=_.cloneDeep(legacy),res=(conds=conds||{},{});return res.app={videoId:legacy.app.videoId,domain:legacy.app.domain,rules:(arr=[],legacy.player.autoplay&&!conds.playNext&&arr.push("autoplay"),legacy.player.autoadvance&&legacy.player.autoadvance.enabled&&arr.push("autoAdvance"),legacy.player.params&&legacy.player.params.playerName&&arr.push("playername:"+legacy.player.params.playerName),-1<window.location.search.indexOf("_noads=1")&&arr.push("noAds"),arr)},res.player=legacy.player,res},App.prototype.isAISAuthenticated=function(callback){"function"==typeof callback&&AISAuth.init(callback)},App.prototype.setAuthorMode=function(){CONFIG.authorMode=!0},App.prototype.requiresAuth=function(opts,callback){"function"==typeof callback&&Authentication.check(opts.videoId,opts.domain,function(info){callback(info.requiresAuth)})},App.prototype.isVideoLiveStream=function(videoId,callback){"function"==typeof callback&&GetVideoFeed(videoId,function(data,Methods){callback(Methods.isLiveStream())})},new App});
Modulr.define("core.video:config",["require","jquery","lodash","cdn","akamai.ver","core.base:utils/environment","core.base:utils/cookie","core.base:utils/search.query"],function(require,$,_){var opts,AKAMAI_BUNDLE_VERSION=require("akamai.ver"),IS_SSL=!!/https/.test(window.location.protocol),Env=require("core.base:utils/environment"),Cookie=require("core.base:utils/cookie"),Query=require("core.base:utils/search.query"),config={};return config.cdn=require("cdn"),config.buildVer=Env.getCacheParam(),config.akamai={secure:IS_SSL,version:AKAMAI_BUNDLE_VERSION,feed:"/v3/video-player/${videoId}",bundlePattern:"//web.archive.org/web/20240116161150/https://foxnewsplayer-a.akamaihd.net/${envFolder}/${version}",configParam:{site:{foxnews:"fn",foxbusiness:"fb","live.foxbusiness":"fblive",insider:"insider",nation:"nation",radio:"radio"}}},config.videoDomain=["foxnews","foxbusiness","insider.foxnews"],config.optsDefault=(opts={player:{autoplay:!1,autoadvance:{enabled:!1,interval:5},ais:{redir:window.location.href},flash:{params:{wmode:"opaque"},vars:{share_enabled_providers:"facebook,twitter,linkedin"}}}},(require=Query.getVal("_vp_mode"))&&_.merge(opts,{app:{sdk:{mode:require}}}),function(val){val&&_.merge(opts,{app:{sdk:{version:val}}})}(Query.getVal("_vp_version")),opts),config.fncRadioId="5599024308001",config.eventPrefix="core.video.events",config.tve={foxnews:{videoId:"",resourceID:"FoxNews"},foxbusiness:{videoId:"",resourceID:"FoxBusiness"}},config.authenticated={foxnews:{resourceID:"FoxNews"},foxbusiness:{resourceID:"FoxBusiness"}},config.autoadvance={feed:"//${domain}/feeds/web/trending/video/all/feed/json",playlistId:{auto:"2366201037001",entertainment:"929831930001","food-drink":"932063991001",health:"930909749001",insider:"1039175296001",lifestyle:"931078438001",opinion:"940325740001",politics:"928378949001",radio:"931078426001",science:"1821663211001",sports:"930909752001",tech:"929831913001",travel:"1034196603001",us:"921261890001",world:"922779230001","americas-election-hq":"4728090022001","americans-newsroom":"903354961001","americas-news-hq":"926093635001","cavuto-live":"5679948655001","fox-and-friends":"930909787001","fox-files":"1794108334001","fox-friends-first":"1484128321001","fox-report-weekend":"930909795001","fox-news-night":"5588264677001","fox-news-sunday":"930909788001","geraldo-rivera-reports":"930909796001","greg-gutfeld-show":"4249245556001",hannity:"931078404001","happening-now":"930909808001","ingraham-angle":"5622526903001","journal-editorial-report":"930909810001","justice-jeanine":"937116552001","legends-lies":"4109346476001","life-liberty-levin":"5736530682001","media-buzz":"2636605067001","next-revolution-steve-hilton":"5452746184001",outnumbered:"3482905335001","outnumbered-overtime":"5588990584001","property-man":"4270654855001","shepard-smith":"2694949843001","special-report":"930909819001","sunday-morning-futures":"3386055101001","the-daily-briefing":"5588812415001","the-five":"1040983441001","the-story":"5410209611001","tucker-carlson-tonight":"5198073478001","war-stories":"932064054001","watters-world":"4607808626001","your-world-cavuto":"930909826001"}},config.ais={platformId:"urn:foxnews:com:sp:"+("qa"===config.cdn.env?"staging":"site")+":2"},config.heartbeatLive=["5369642345001"],config.authMode={type:(Env=window.location.search,IS_SSL="_aismvpd",(-1<Env.indexOf(IS_SSL+"=0")?(Cookie(IS_SSL,null),!1):((Env=-1<Env.indexOf(IS_SSL+"=1"))?Cookie(IS_SSL,"y",{path:"/",expires:null}):"y"===Cookie(IS_SSL)&&(Env=!0),Env))?"ais":"primetime")},config});
Modulr.define("core.video:helper",["require","jquery","lodash","config","core.plugins:URLInfo","jquery.cookie","core.base:utils/akamai"],function(require,$,_,config){function Helper(){}var URLInfo=require("core.plugins:URLInfo"),Time=require("core.base:utils/akamai").time,cdn=config.cdn;return Helper.prototype.getCurrentTime=function(){return Time.getCurrent()},Helper.prototype.getEnv=function(){return cdn.env},Helper.prototype.getDomainId=function(){var hostname=window.location.hostname;return/foxbusiness\.com/.test(hostname)?"foxbusiness":/insider\.foxnews\.com/.test(hostname)?"insider.foxnews":"foxnews"},Helper.prototype.validateVideoId=function(id){return!/[^0-9]/g.test(id)},Helper.prototype.setEventName=function(name){return[config.eventPrefix,name].join("_")},Helper.prototype.loadScript=function(src,callback){var trigger;src="string"==typeof src?[src]:src,$.isArray(src)&&(trigger=function(){0<src.length?function(src,callback){var isOpera=void 0!==window.opera&&"[object Opera]"===window.opera.toString()||-1<navigator.userAgent.indexOf("Opera")?1:0,script=document.createElement("script");script.async=!0,!script.attachEvent||script.attachEvent.toString&&script.attachEvent.toString().indexOf("[native code")<0||isOpera?(script.addEventListener("load",callback,!1),script.addEventListener("error",function(){throw new Error("Error loading script: "+src)},!1)):script.attachEvent("onreadystatechange",callback);script.src=src,document.getElementsByTagName("head")[0].appendChild(script)}(src.shift(),function(){trigger()}):"function"==typeof callback&&callback()})()},Helper.prototype.enc=function(val){return encodeURIComponent(val)},Helper.prototype.dec=function(val){return decodeURIComponent(val)},Helper.prototype.log=function(){if(window.console){var args=Array.prototype.slice.call(arguments);args.unshift("[core.video]");try{return window.console.log.apply(window.console,args)}catch(err){window.console.log(args.join(" | "))}}},Helper.prototype.getQueryVar=function(name){var url=new URLInfo(window.location.href).getInfo(),url=url.query[name]||url.hash[name]||null;return url=null!==url&&"boolean"==typeof url?url.toString():url},Helper.prototype.setUrlQuery=function(url,props){var id,info=new URLInfo(url).getInfo();for(id in props){var val=props[id];info.query[id]?info.query[id]=val:info.hash[id]=val}return info},Helper.prototype.reEmbedIframe=function(instance,newOpts){var res=!1,currVideoId=instance._opts.app.videoId,currDomain=instance._opts.app.domain,instance=instance._opts.app.legacy||!1,isTVE=this.isTVEVideoId(currVideoId),newIsTVE=this.isTVEVideoId(newOpts.app.videoId),newDomain=newOpts.app.domain||"foxnews";return res=instance||currVideoId!==config.fncRadioId&&newOpts.app.videoId===config.fncRadioId||currVideoId===config.fncRadioId&&newOpts.app.videoId!==config.fncRadioId||currDomain!==newDomain||isTVE&&!newIsTVE||!isTVE&&newIsTVE||isTVE&&newIsTVE&&currVideoId!==newOpts.app.videoId?!0:res},Helper.prototype.generateBundlePaths=function(ver,env,opts){var domainId,self=this,isTVE=opts.app.tve||!1,isLegacy=(opts.app.auth,self.isLegacyVersion(ver)),res=(isLegacy||"foxbusiness"!==opts.app.domain||(ver="9.0.12"),function(){res=("prod"!==env||"qa"!==config.cdn.env)&&"qa"===config.cdn.env?"player/test":"player","test"===(customMode=_.get(opts,"app.sdk.mode",null))?res="player/test":"prod"===customMode&&(res="player");var customMode=res,res=(ver=_.get(opts,"app.sdk.version",null)||ver,config.akamai.bundlePattern.replace("${version}",ver).replace("${envFolder}",customMode)),customMode="cb="+self.cacheBuster(),res=isLegacy?{path:res+="/amp.premier",script:res+"/amp.premier"+("qa"===config.cdn.env?"":".min")+".js?"+customMode,conf:res+"/amp.foxnews.central.json?sec="+(config.akamai.secure?"1":"0")+"&"+customMode}:{path:res,script:res+"/akamai/amp/core/amp.js?"+customMode,conf:res+"/configuration/amp.foxnews.central.json?sec="+(config.akamai.secure?"1":"0")+"&"+customMode};return res}()),queryParams=[];return domainId=isTVE?(opts.app.videoId,config.tve.foxbusiness.videoId,domainId=opts.app.videoId===config.tve.foxbusiness.videoId?"live.foxbusiness":"foxnews",config.akamai.configParam.site[domainId]):opts.app.ampConfig&&opts.app.ampConfig.site?opts.app.ampConfig.site:-1<config.videoDomain.indexOf(opts.app.domain)?config.akamai.configParam.site[opts.app.domain]:config.akamai.configParam.site[self.getDomainId()],queryParams.push("site="+domainId),isTVE="notitle",opts.app.ampConfig&&"string"==typeof opts.app.ampConfig.params&&(isTVE=[isTVE,opts.app.ampConfig.params].join(",")),isTVE=_.uniq(isTVE.split(",")).join(","),queryParams.push("param="+isTVE),opts.app.ampConfig&&opts.app.ampConfig.namespace&&queryParams.push("ns="+opts.app.ampConfig.namespace),opts.app.eumode&&queryParams.push("eu=1"),"desktop:video"===opts.player.pageType&&"CLIP"===opts.player.name&&queryParams.push("strikemediator=true"),0<queryParams.length&&(res.conf=res.conf+"&"+queryParams.join("&")),res},Helper.prototype.isLegacyVersion=function(ver){return!/^9\./.test(ver)},Helper.prototype.cacheBuster=function(interval){interval=isNaN(interval)||(interval=Math.floor(parseInt(interval,10)))<2?2:59<interval?60:interval;var c=this.getCurrentTime(),mins=c.getMinutes(),c=[c.getFullYear(),c.getMonth()+1,c.getDate(),c.getHours()].join("");return c+=Math.floor(mins/interval)},Helper.prototype.setResponseTarget=function(resourceID,prefix){return{redirect:(prefix=prefix||"live")+("FoxBusiness"===resourceID?"_fb":"_fn"),popup:prefix+("FoxBusiness"===resourceID?"_fb_winpopup":"_fn_winpopup")}},Helper.prototype.isTVEVideoId=function(id){var i,res=!1;for(i in config.tve)if(config.tve[i].videoId===id){res=!0;break}return res},Helper.prototype.setAISCookie=function(opts){var opts=opts&&opts.player&&opts.player.ais&&"string"==typeof opts.player.ais.redir?opts.player.ais.redir:null,expires=opts?1:-1,sp="."+(sp=window.location.hostname.split(".")).slice(sp.length-2).join(".");$.cookie("FXN_v_idpp",opts,{path:"/",domain:sp,expires:expires})},Helper.prototype.getHeight=function(width){return 9*Math.round(width/16)},Helper.prototype.getArticleBody=function(){var el=$("article div[itemprop='articleBody']");return el=0===el.length?$("article .article-body"):el},Helper.prototype.getVideoFeedUrl=function(videoId,conf){var res;conf=conf&&conf.domain?conf.domain:null,res="",res=conf&&/foxbusiness/i.test(conf)?"api.foxbusiness.com":"api.foxnews.com","qa"===cdn.env?res="dev-"+res:"staging"===cdn.env&&(res="stage-"+res),res=res+"/v3/video-player/"+videoId;return"https://"+res},Helper.prototype.getPlaylistFeedUrl=function(playlistId,conf){var res=(conf.moxie?function(){var domain,res;domain=conf&&conf.domain?conf.domain:null,res="moxie.foxnews.com",res=domain&&/foxbusiness/i.test(domain)?"moxie.foxbusiness.com":res;return"//"+res+"/playlist/"+playlistId}:function(){var domain,res;domain=conf&&conf.domain?conf.domain:null,res="video.foxnews.com",domain&&/foxbusiness/i.test(domain)&&(res="video.foxbusiness.com"),res="prod"!==cdn.env?"beta."+res:res;return"//"+res+"/v/feed/playlist/"+playlistId+".json?template=fox"})();return res},Helper.prototype.isAuthorMode=function(){return config.authorMode||!1},Helper.prototype.isAMPPage=function(){return"googleamp"===new URLSearchParams(window.location.search).get("pn")},Helper.prototype.isExternalEmbed=function(){return 0<=window.location.pathname.indexOf("video-embed.html")},Helper.prototype.isV7=function(){return-1<window.location.search.indexOf("_vidv7=1")?"_vidv7=1":null},new Helper});
Modulr.define("core.video:main",["require","jquery"],function(require,$){});
Modulr.define("core.video:models/ais.auth",["require","jquery","lodash","helper","config"],function(require,$,_,Helper,config){function App(){}var EXECUTING=!1,CALLBACK_STACK=[];function processStack(data){for(var i=0;i<CALLBACK_STACK.length;i++)CALLBACK_STACK[i](data)}return App.prototype.init=function(callback){CALLBACK_STACK.push(callback),EXECUTING||(EXECUTING=!0,callback="//web.archive.org/web/20240116161150/https://idp.securetve.com/rest/1.0/"+config.ais.platformId+"/init/?format=jsonp&responsefield=fxn_ais_idpInit",window.fxn_ais_idpInit=function(response){processStack(response),delete window.fxn_ais_idpInit,EXECUTING=!1},$.ajax({url:callback,dataType:"script",cache:!0,error:function(jqXHR,textStatus,errorThrown){console.log("aisRequest > ERROR:",jqXHR,textStatus,errorThrown),processStack(null)}}))},new App});
Modulr.define("core.video:models/ampqueryparse",["require","jquery","lodash","helper","core.plugins:Base64","core.plugins:URLInfo"],function(require,$,_,Helper){var Base64=require("core.plugins:Base64"),URLInfo=require("core.plugins:URLInfo");return function(){function getQueryParam(name){var url=this.document.referrer||null,res=null;return res=null!==url&&"string"==typeof url&&null!==(res=(url=new URLInfo(this.document.referrer).getInfo()).query[name]||url.hash[name]||null)&&"boolean"==typeof res?res.toString():res}var amp=getQueryParam("pn")||null;if(null!==amp&&"string"==typeof amp){var initProps=Base64.decode(getQueryParam("ampProps")||"").split(","),amp=Helper.getDomainId(),res="",refinedProps=[];if(0===initProps.length)return null;for(var i=0;i<initProps.length;i++)refinedProps.push(decodeURIComponent(initProps[i]));var key={article_id:refinedProps[0],article_title:refinedProps[1],article_tags:refinedProps[2],article_type:refinedProps[3],article_author:refinedProps[4],article_language:refinedProps[5],article_source:refinedProps[6],article_pub_date:refinedProps[7],article_pub_time:refinedProps[8],article_mod_date:refinedProps[9],article_mod_time:refinedProps[10],article_last_date:refinedProps[11],article_last_time:refinedProps[12],article_section:refinedProps[13],article_subsection:refinedProps[14],article_category:refinedProps[15],article_path:refinedProps[16],article_url:refinedProps[17]},res="foxbusiness"===amp?"Fox Business":"insider.foxnews"===amp?"Insider":"Fox News";return{properties:{app_name:"Fox News",author:key.article_author,category:key.article_category,name:key.article_id,page_content_author:key.article_author,page_content_category:key.article_category,page_content_distributor:"owned",page_content_id:"urn:uri:base64:"+key.article_id,page_content_language:key.article_language,page_content_major_publish_date:key.article_last_date,page_content_major_publish_time:key.article_last_time,page_content_modified_date:key.article_mod_date,page_content_modified_time:key.article_mod_time,page_content_original_publish_date:key.article_pub_date,page_content_original_publish_time:key.article_pub_time,page_content_originator:key.article_source,page_content_subcategory:key.article_category,page_content_tags:key.article_tags,page_content_title:key.article_title,page_content_type:key.article_type,page_content_type_of_story:key.article_type,page_is_dark_mode:!1,page_name:"fox:news:web:"+key.article_section+":"+key.article_title,page_type:key.article_section+":"+key.article_category,path:"/"+key.article_path,primary_business_unit:"Fox News",secondary_business_unit:res,title:key.article_title,url:key.article_url}}}}});
Modulr.define("core.video:models/autoadvance",["require","jquery","lodash","helper","config","ISA"],function(require,$,_,Helper,config,ISA){var REQUEST_STACK={};return function(Instance){var opts=Instance.getOpts(),valid=!!(opts&&opts.player&&opts.player.autoadvance&&opts.player.autoadvance.enabled)&&(!opts.app.autoadvance||!(!opts.app.autoadvance||"custom"===opts.app.autoadvance)),playlistIdList=config.autoadvance.playlistId||!1;if(valid){var id,valid=config.autoadvance.feed.replace("${domain}",["www",opts&&opts.app&&/foxbusiness/i.test(opts.app.domain)?"foxbusiness":"foxnews","com"].join(".")),index=0,match=null,section="shows"===ISA._meta.section?ISA._meta.raw.subsection1:ISA._meta.section;for(id in playlistIdList)if(playlistIdList[id]===section){match=playlistIdList[id];break}!function(url,playlistId,template){REQUEST_STACK[url]?REQUEST_STACK[url].done?template(REQUEST_STACK[url].data):REQUEST_STACK[url].fn.push(template):(REQUEST_STACK[url]={data:null,fn:[template],done:!1},playlistId?(REQUEST_STACK[url="//web.archive.org/web/20240116161150/https://video.foxnews.com/v/feed/playlist/"+playlistId+".json?template=fox"]={data:null,fn:[template],done:!1},$.ajax({url:url,dataType:"json",cache:!0,success:function(data){data=function(data){var arr=[];if(data&&data.channel&&data.channel.item)for(var items=data.channel.item,i=0;i<10;i++){var videoId,videoDomain,url=items[i].link;!url||(videoId=function(){var ret=null,sp=url.split("/v/")[1]||!1,sp=!!sp&&sp.split("/")[0];return ret=sp&&!isNaN(sp)?sp:ret}())&&(videoDomain=/foxbusiness/.test(url)?"foxbusiness":"foxnews",arr.push({videoId:videoId,videoDomain:videoDomain}))}return arr}(data);REQUEST_STACK[url].data=data,REQUEST_STACK[url].done=!0,triggerStack(url)}})):url&&(window.videos=function(data){data=function(data){var arr=[];if(data&&data.response&&data.response.docs)for(var items=data.response.docs,i=0;i<items.length;i++){var videoDomain,item=items[i],url=!!(item.url&&Array.isArray(item.url)&&item.url[0])&&item.url[0];!url||(item=function(){var ret=null,sp=url.split("/v/")[1]||!1,sp=!!sp&&sp.split("/")[0];return ret=sp&&!isNaN(sp)?sp:ret}())&&(videoDomain=/foxbusiness/.test(url)?"foxbusiness":"foxnews",arr.push({videoId:item,videoDomain:videoDomain}))}return arr}(data);REQUEST_STACK[url].data=data,REQUEST_STACK[url].done=!0,triggerStack(url)},$.ajax({url:url,dataType:"script",data:{cb:Helper.cacheBuster()},cache:!0})))}(valid,match,function(items){Instance.on("amp.advance",function(){var nextVideoId,nextItem=items[index]||null;nextItem&&(nextVideoId=nextItem.videoId,Helper.log("playing next video id:",nextVideoId),Instance.change(nextVideoId,{app:{domain:nextItem.videoDomain},player:{autoplay:!0}}),index++)})})}};function triggerStack(url){if(REQUEST_STACK[url])for(var data=REQUEST_STACK[url].data;0<REQUEST_STACK[url].fn.length;)REQUEST_STACK[url].fn.shift()(data)}});
Modulr.define("core.video:models/embeds",["require","jquery","lodash","helper","config"],function(require,$,_,Helper,config){function App(){}var VIDEO_EMBED_ITER=0,VIDEO_EMBED={},LAST_PLAY_UID=null;function stopOtherPlayers(uid){for(var id in VIDEO_EMBED){var item=VIDEO_EMBED[id];id!==uid&&item.instance&&(item.instance.pause(),item._playing=!1)}}function validateUID(uid){return!!/^fnc-embed-([0-9]+)/.test(uid)}return App.prototype.generateUID=function(){return"fnc-embed-"+ ++VIDEO_EMBED_ITER},App.prototype.initialize=function(uid,type){validateUID(uid)?VIDEO_EMBED[uid]||(VIDEO_EMBED[uid]={_initialized:!0,instance:null}):Helper.log("warning: invalid uid: "+uid)},App.prototype.store=function(uid,type,instance){validateUID(uid)?VIDEO_EMBED[uid].instance=instance:Helper.log("warning: invalid uid: "+uid)},App.prototype.setPlayState=function(uid,isPlaying){null===LAST_PLAY_UID?(VIDEO_EMBED[LAST_PLAY_UID=uid]._playing=isPlaying,stopOtherPlayers(uid)):isPlaying?LAST_PLAY_UID!==uid&&(VIDEO_EMBED[LAST_PLAY_UID=uid]._playing=!0,stopOtherPlayers(uid)):VIDEO_EMBED[uid]._playing=!1},App.prototype.getInfo=function(){var uid,item,info={};for(uid in VIDEO_EMBED)VIDEO_EMBED[uid].instance&&(item=VIDEO_EMBED[uid].instance,info[uid]={target:item._target.get(0)});return info},new App});
Modulr.define("core.video:models/get.video",["require","jquery","lodash","helper","config"],function(require,$,_,Helper,config){var FEED_STACK={};return function(){var args=arguments,domain=null,callback=null,videoId=args[0];"object"==typeof args[1]?(domain=args[1].domain||null,args[2]&&"function"==typeof args[2]&&(callback=args[2])):"function"==typeof args[1]&&(callback=args[1]),!videoId||!callback||(FEED_STACK[videoId]?FEED_STACK[videoId].data?callback(FEED_STACK[videoId].data):FEED_STACK[videoId].stack.push(callback):(FEED_STACK[videoId]={data:null,stack:[callback]},args=Helper.getVideoFeedUrl(videoId,{domain:domain||null}),$.ajax({url:args,dataType:"jsonp",jsonpCallback:"uid_"+videoId,cache:!0}).done(function(data){data=function(data){var obj={},data=(obj.raw=data).channel.item;obj.image=data["media-group"]["media-thumbnail"]["@attributes"],obj.requires_auth=function(restrict,status){var res=!1;return restrict&&"string"==typeof restrict&&"urn:protected"===restrict?res=!0:restrict&&"object"==typeof restrict&&restrict["@attributes"]?"deny"!==restrict["@attributes"].relationship&&"urn:protected"!==restrict["#text"]||(res=!0):status&&status["@attributes"]&&"blocked"===status["@attributes"].state&&(res=!0),res}(data["media-restriction"],data["media-status"]),obj.live_stream=function(arr){for(var res=!1,i=0;i<arr.length;i++){var item=arr[i];if(/^live_stream/i.test(item)){res=!0;break}}return res}(_.get(data,"category",[])),obj.norm={},data["dc-date"]&&(obj.norm["dc-date"]=function(val){var val=val.split("T"),date=val[0],val=val[1].split("-")[0];return date=[(date=date.split("-"))[1],date[2],date[0]].join("/"),new Date([date,val].join(" "))}(data["dc-date"]));return obj}(data);FEED_STACK[videoId].data=data,function(videoId){if(0<FEED_STACK[videoId].stack.length)for(;0<FEED_STACK[videoId].stack.length;)FEED_STACK[videoId].stack.shift()(FEED_STACK[videoId].data,function(data){return{isLiveStream:function(){return!!data.live_stream}}}(FEED_STACK[videoId].data))}(videoId)})))}});
Modulr.define("core.video:models/is.authenticated",["require","jquery","lodash","helper","config","core.base:utils/localStorage","core.plugins:EventMessageHandler","models/get.video","models/mvpd"],function(require,$,_,Helper,config){var LocalStorage=require("core.base:utils/localStorage"),GetVideoFeed=require("models/get.video"),MVPD=(require("core.plugins:EventMessageHandler"),require("models/mvpd")),storeId="videoIsAuth",expiry=24,IS_MVPD="primetime"===config.authMode.type;return new function(){this.check=function(videoId,domain,callback){if(Helper.isTVEVideoId(videoId))done(!0,!0);else{var curr={};if(curr.list&&-1<curr.list.indexOf(""+videoId))return done(!!(curr.auth&&-1<curr.auth.indexOf(""+videoId)));GetVideoFeed(videoId,{domain:domain},function(data){data=data.requires_auth;var val=videoId,isAuth=data;void 0!==val&&LocalStorage.set(storeId,function(){val=""+val;var curr=function(){var res=null,val=LocalStorage.get(storeId);!val||!function(time){return Helper.getCurrentTime().getTime()>parseInt(time,10)}((val=JSON.parse(val)).expires)&&val.list.length<50&&(res=val);return res}();return curr?(-1===curr.list.indexOf(val)&&curr.list.push(val),isAuth&&curr.auth.push(val)):curr={list:[val],auth:isAuth?[val]:[],expires:Helper.getCurrentTime().getTime()+60*expiry*60*1e3},JSON.stringify(curr)}()),done(data,!1)})}function done(is_protected,is_tve){callback({requiresAuth:is_protected,tve:is_tve,mvpd:IS_MVPD})}},this.isUserAuthenticated=function(opts,callback,reset){MVPD.AuthN(opts,function(data){callback(data)},reset)},this.isUserAllowed=function(callback){MVPD.AuthZ(function(data){});callback({authenticated:!0,allowed:!0})},this.authorization=function(opts,callback){callback()},this.logout=function(){MVPD.logout()},this.MVPD=MVPD}});
Modulr.define("core.video:models/mutedstate",["require"],function(require){return new function(){var MUTE_STATE=null;this.set=function(bool){"boolean"==typeof bool&&(MUTE_STATE=bool)},this.unset=function(){MUTE_STATE=null},this.get=function(){return null===MUTE_STATE?"unset":MUTE_STATE?"muted":"unmuted"}}});
Modulr.define("core.video:models/mvpd",["require","jquery","lodash","helper","config","core.plugins:EventMessageHandler","core.base:utils/cookie"],function(require,$,_,Helper,config){var EventHandler=new(require("core.plugins:EventMessageHandler"));require("core.base:utils/cookie");return new function(){var Proto=this,XDCOMM_INITIALIZED=!1,CALLBACK_STACK=[],CHOOSER_LOADED=!1,LISTENERS={},XDCOMM_READY=!1,IFRAME_DOM=null,IFRAME_ID="fncmvpd-xdcomm";function onReady(callback){var src="https://"+(window.location.search.includes("mvpdprod=1")?"static.foxnews.com":config.cdn.hostname)+"/mvpd/xdcomm.html?v="+config.buildVer,id=IFRAME_ID;if(XDCOMM_READY)return callback();CALLBACK_STACK.push(callback),XDCOMM_INITIALIZED||(XDCOMM_INITIALIZED=!0,EventHandler.addHandler(setName("mvpd_iframe_ready_xdcomm"),function(data){IFRAME_DOM.attr("data-ifr-ready","1"),XDCOMM_READY||(execCallStack(CALLBACK_STACK,!0),XDCOMM_READY=!0)}),EventHandler.addHandler(setName("mvpd_id_val"),function(data){var val;val=data&&data.mvpdId?data.mvpdId:null,window.leapmetrics=window.leapmetrics||[],window.leapmetrics.push(function(Leap){"function"==typeof Leap.cookieProps&&(Helper.log("setting mvpdId.."),Leap.cookieProps("set",{mvpdId:val}))}),data.mvpdId&&null!==data.mvpdId&&"TempPass-Fox-ShortTTL"!==data.mvpdId&&(window.leapmetrics=window.leapmetrics||[],window.leapmetrics.push(function(Leap){Leap.track("auth.mvpd:complete")}))}),EventHandler.addHandler(setName("mvpd_select_id_val"),function(data){data.mvpdId&&null!==data.mvpdId&&"TempPass-Fox-ShortTTL"!==data.mvpdId&&data.mvpdType&&null!==data.mvpdType&&(window.leapmetrics=window.leapmetrics||[],window.leapmetrics.push(function(Leap){Leap.track("auth.mvpd:select-provider-complete",{page_action_type:data.mvpdType})}))})),0===$("#"+id).length&&($("body").append('<iframe aria-label="MVPD Picker" id="'+id+'" src="'+src+'" border="0" frameborder="0" scrolling="no" style="width: 0; height: 0; visibility: hidden;"></iframe>'),IFRAME_DOM=$("#"+id))}function send(name,data){onReady(function(){EventHandler.sendMessage(IFRAME_DOM.get(0),setName(name),data||null)})}function listen(name,callback,sender){var eventId=setName(name);LISTENERS[name]?LISTENERS[name].push(callback):(LISTENERS[name]=[callback],EventHandler.addHandler(eventId,function(data){execCallStack(LISTENERS[name],data)})),sender&&send(name,!0),XDCOMM_INITIALIZED||onReady(function(){})}function setName(val){return"_fnc_mvpd_"+val}function execCallStack(arr,data){for(;0<arr.length;)arr.shift()(data)}Proto.AuthN=function(opts,callback,reset){XDCOMM_INITIALIZED=XDCOMM_READY=!1,$("#"+IFRAME_ID).remove(),listen("user_logged_in",function(){window.location.reload()}),listen("user_logged_out",function(){window.location.reload()}),listen("user_authenticated",function(data){var info,domain;(data=data||{}).chooserAction?window.location.reload():(info={raw:data},domain=window.location.search.includes("mvpdprod=1")?"static.foxnews.com":config.cdn.hostname,_.merge(info,{resourceId:data.resourceId||null,authenticated:!!data.auth||!!data.token,authorized:!!data.token||!!data.authorized,token:data.token||null,ttl:data.ttl||null,providerInfo:data.providerInfo||null,iframe:"https://"+domain+"/mvpd/index.html?v="+config.buildVer}),info.poweredLogo=function(item){if(!item)return null;var res=item.logo;if("object"==typeof item.logoList){var id,found=!1;for(id in item.logoList){var logo=item.logoList[id];if(/mvpd\/powered\/(.+)\.(jpg|jpeg|gif|png|svg)$/.test(logo)){res=logo,found=!0;break}}res=!found&&item.logoList.large_black||res}return res}(info.providerInfo),callback(info))}),listen("user_authorized_comcast",function(data){CHOOSER_LOADED&&data&&data.flag&&window.location.reload()}),send("mvpd_iframe_init_xdcomm",Proto.getInfo(opts))},Proto.AuthZ=function(callback){listen("authz",function(data){callback(data)},!0);callback({authenticated:!0,allowed:!0})},Proto.authToken=function(opts,callback){callback()},Proto.logout=function(){0<$("#"+IFRAME_ID).length&&send("logout",{type:"logout"})},Proto.getInfo=function(opts){return{domain:opts.app.domain||"foxnews",referrer:(opts=window.location.host,/foxbusiness/.test(opts)?"foxbusiness":"foxnews"),sender:window.location.href}},Proto.setChooserMode=function(){CHOOSER_LOADED=!0},Proto.setChooserLoadedTracking=function(){window.leapmetrics=window.leapmetrics||[],window.leapmetrics.push(function(Leap){Leap.track("auth.mvpd:select-provider-start")})},Proto.showOverlay=function(target,info){var providerName=info&&info.providerInfo&&info.providerInfo.name?info.providerInfo.name:"provider",info=info&&info.providerInfo&&info.providerInfo.logoList&&info.providerInfo.logoList.large_white?info.providerInfo.logoList.large_white:null,providerName='<div class="unauthorized-mvpd"><p>Sorry, your '+providerName+" account is not authorized to view this content.</p></div>";info&&(providerName=$(providerName).css("background-image",'url("'+info+'")')),target.html(providerName)},Proto.listen=listen}});
Modulr.define("core.video:models/new.relic",["require","jquery","lodash","helper","config","ISA","akamai.ver"],function(require,$,_,Helper,config,ISA){var Provider=ISA.provider("new-relic"),CoreTracker=ISA.provider("coreTracker"),ENV=Helper.getEnv(),AKAMAI_BUNDLE_VERSION=require("akamai.ver");return function(VIDEO_ID){var VIDEO_DOMAIN=/foxbusiness/.test(window.location.host)?"foxbusiness":"foxnews",AD_BLOCK_STATUS=CoreTracker.isEnabled(),BUILD_VERSION=Modulr.getGlobalCacheParam();this.set=function(){Provider.setCustomAttributes({"fnc.video.iframe.AD_BLOCK":AD_BLOCK_STATUS,"fnc.video.iframe.ENV":ENV,"fnc.video.iframe.VIDEO_DOMAIN":VIDEO_DOMAIN,"fnc.video.iframe.VIDEO_ID":VIDEO_ID,"fnc.video.iframe.FRONTEND_BUILD_VERSION":BUILD_VERSION,"fnc.video.iframe.AMP_VERSION":AKAMAI_BUNDLE_VERSION}),"function"==typeof window.newrelic.setErrorHandler&&(window.newrelic.setErrorHandler(function(err){return Provider.setCustomPageAction({JSErrorEvent:{"fnc.video.iframe.error.ERR_TYPE":err.name,"fnc.video.iframe.error.ERR_MESSAGE":err.message,"fnc.video.iframe.error.STACK_TRACE":err.stack,"fnc.video.iframe.error.AD_BLOCK_STATUS":AD_BLOCK_STATUS,"fnc.video.iframe.error.PLAYER_VERSION:":AKAMAI_BUNDLE_VERSION,"fnc.video.iframe.error.FRONTEND_BUILD_VERSION":BUILD_VERSION}}),!1}),Helper.log("NR listener ready!"))}}});
Modulr.define("core.video:models/overlay",["require","jquery","lodash","helper","config","models/get.video","core.plugins:ImageResizer"],function(require,$,_,Helper,config){var GetVideoFeed=require("models/get.video"),Resizer=require("core.plugins:ImageResizer");return function(target,videoId,domain){this.set=function(trigger){GetVideoFeed(videoId,{domain:domain},function(data){var src=data&&data.image&&data.image.url?data.image.url:null;src?(src='<div class="m video-ct">                            <a href="#"><picture>                            <source media="(max-width: 767px)" srcset="'+Resizer(src,348,196)+'">                            <source media="(min-width: 768px)" srcset="'+Resizer(src,768,432)+'">                            <img src="'+src+'" alt="image name">                        </picture>                        <span class="overlay">Video</span></a>                        </div>',target.html(src),target.find("a").on("click",function(evt){return evt.preventDefault(),trigger(),!1})):trigger(),console.log("data",data)}),console.log("todo: //"),trigger()}}});
Modulr.define("core.video:models/tracking",["require","jquery","lodash","helper","ISA"],function(require,$,_,Helper){function App(uid,opts){window.leapmetrics,this.track=function(data,callback){console.log("tracking todo >>>>>>",data)},this.getPageInfo=function(callback){Load(function(Leap){var data={};Leap&&"function"==typeof Leap.pageInfo&&(data=Leap.pageInfo()),_.get(data,"properties.page_test_name",null)&&delete data.properties.page_test_name,callback({page:data.page||{},properties:data.properties||{},options:data.options||{},traits:data.traits||{}})})}}var LEAP_INSTANCE=null,loaded=!1;Load(function(Leap){LEAP_INSTANCE=Leap});function Load(callback){var timeout;loaded?callback(LEAP_INSTANCE):(timeout=setTimeout(function(){loaded?callback(LEAP_INSTANCE):(Helper.log("Leap Metrics timed out!"),loaded=!0,callback(null))},3e3),window.leapmetrics=window.leapmetrics||[],window.leapmetrics.push(function(Leap){clearTimeout(timeout),loaded=loaded||!0,callback(Leap)}))}return{create:function(uid,opts){return new App}}});
Modulr.define("core.video:views/fox-news/embed/events",["require","jquery","lodash","helper","config"],function(require,$,_,Helper,config){function App(uid,IframeListener){this._UID=uid,this._IframeListener=IframeListener;var EVENT_STACK={};this._listenFor=function(name,callback){EVENT_STACK[name]||(EVENT_STACK[name]=[]),EVENT_STACK[name].push(callback)},this._IframeListener.listen(function(event){var name=event.name,data=event.data,event=!!(data&&data.opts&&data.opts.app&&data.opts.app.uid&&data.opts.app.uid===uid);if(EVENT_STACK[name]&&event)for(var i=0;i<EVENT_STACK[name].length;i++)EVENT_STACK[name][i](data)}),this._listenFor("amp.auth.reloadParentPage",function(){window.location.reload()})}return App.prototype.play=function(callback){var event=this._IframeListener;this._listenFor("amp.play",function(){"function"==typeof callback&&callback()}),event.send("play")},App.prototype.pause=function(callback){var event=this._IframeListener;"function"==typeof callback&&this._listenFor("amp.pause",callback),event.send("pause")},App.prototype.pauseState=function(callback){var event=this._IframeListener;"function"==typeof callback&&this._listenFor("player.pauseState",callback),event.send("pauseState")},App.prototype.mute=function(callback){var event=this._IframeListener;"function"==typeof callback&&this._listenFor("player.mute",callback),event.send("mute")},App.prototype.unmute=function(callback){var event=this._IframeListener;"function"==typeof callback&&this._listenFor("player.unmute",callback),event.send("unmute")},App.prototype.volume=function(callback){var event=this._IframeListener;"function"==typeof callback&&this._listenFor("player.volume",callback),event.send("volume")},App.prototype.volumeSet=function(callback,val){var event;"number"!=typeof val?callback(null):(event=this._IframeListener,"function"==typeof callback&&this._listenFor("player.volume.set",callback),event.send("volumeSet",{val:val}))},App.prototype.muteState=function(callback){var event=this._IframeListener;"function"==typeof callback&&this._listenFor("player.muteState",callback),event.send("muteState")},App.prototype.jump=function(callback,val){var event=this._IframeListener;"function"==typeof callback&&this._listenFor("player.jump",callback),event.send("jump",val)},App.prototype.logout=function(callback){this._IframeListener.send("logout")},App.prototype.pageFlag=function(callback,val){var event=this._IframeListener;"function"==typeof callback&&this._listenFor("player.pageFlag",callback),event.send("pageFlag",{val:val})},App});
Modulr.define("core.video:views/fox-news/embed/isa",["require","jquery","lodash","helper","config","ISA"],function(require,$,_,Helper,config,ISA){return function(){const omtrInterface=function(){let success=!1;return new Promise(function(resolve){ISA.provider("omniture",function(provider){provider?(provider.onExtInterfaceReady(function(omtrVals){success||(success=!0,resolve(omtrVals))}),setTimeout(function(){success||(success=!0,Helper.log("warning: omniture did not return after 5 seconds!"),resolve(null))},5e3)):resolve(null)})})}();return new Promise(function(resolve){if(!ISA)return resolve(null);Promise.all([omtrInterface]).then(function(payload){resolve({omtr:payload[0]})})})}});
Modulr.define("core.video:views/fox-news/embed/main",["require","jquery","lodash","helper","config","models/embeds","models/is.authenticated","models/overlay","models/tracking","models/mutedstate","@fnc/embed/events","@fnc/embed/strike","@fnc/embed/isa","@fnc/rules","@fnc/listener","ISA","cache.param","core.plugins:EventMessageHandler","core.base:utils/detector","core.components:auth"],function(require,$,_,Helper,config){var EventListener=require("@fnc/listener"),Events=require("@fnc/embed/events"),ISAInterface=require("@fnc/embed/isa"),STRIKEInterface=require("@fnc/embed/strike"),Rules=require("@fnc/rules"),PageEmbed=require("models/embeds"),CacheParam=require("cache.param"),Overlay=require("models/overlay"),Authentication=require("models/is.authenticated"),EventHandler=require("core.plugins:EventMessageHandler"),Tracking=require("models/tracking"),Detector=require("core.base:utils/detector"),LocalStorageUtil=require("core.base:utils/localStorage"),MutedState=require("models/mutedstate"),ENV=Helper.getEnv(),ISA=require("ISA"),VIDEO_UID_ATTR="data-video-id",VIDEO_DOMAIN_ATTR="data-video-domain";const isAMPPage=Helper.isAMPPage(),isExternalEmbed=Helper.isExternalEmbed();function App(target,opts){var res,host;this._UID=PageEmbed.generateUID(),this._target=target||[],this._Tracking=Tracking.create(this._UID,opts),this._opts=(target=this._UID,res=_.cloneDeep(config.optsDefault),res=_.merge(res,_.cloneDeep(opts)),res=_.merge(res,{app:{uid:target}}),target=window.FNC&&window.FNC.ISA&&"function"==typeof window.FNC.ISA.meta?window.FNC.ISA.meta().pagetype:null,opts=Detector.current(),host=window.location.hostname,_.merge(res.player,{pageType:opts+":"+(target=target||"video.foxnews.com"!==host&&"video.foxbusiness.com"!==host?target:"video"),anonId:LocalStorageUtil.getItem("anon_fpid"),persistId:LocalStorageUtil.getItem("persist_fpid")}),opts=null,(opts=window.__uspapi&&window.__uspapi.api?window.__uspapi.api.get().val:opts)&&_.merge(res.player,{privacyPolicy:opts}),res),this._PLAYER_READY=!1,this._INITIALIZED=!1,this._IframeListener=EventListener.create(this._target,this._UID,"embed"),this._Events=new Events(this._UID,this._IframeListener),this._EVENT_STACK={},this._LISTENER_INIT=!1,this.on("amp.mutechange",function(data){MutedState.set(data.amp)}),Rules.setApp(this._opts),PageEmbed.initialize(this._UID,"fox-news"),this.__getOpts=function(){return this._opts}}function triggerEventStack(stack,data){for(var i=0;i<stack.length;i++)stack[i](data)}function getAttr(target){var videoId=target.attr(VIDEO_UID_ATTR)||null,target=target.attr(VIDEO_DOMAIN_ATTR)||Helper.getDomainId();return{videoId:Helper.validateVideoId(videoId)?videoId:null,domain:-1===config.videoDomain.indexOf(target)?null:target}}function changeVideo(self,videoId,newOpts,forceReEmbed){self._target.attr(VIDEO_UID_ATTR,videoId);var attr=getAttr(self._target);function reEmbed(){Helper.log("[embed] re-embedding iframe..");var currOpts=_.cloneDeep(self._opts);if(config.fncRadioId===videoId?Rules.set("fncRadio",newOpts):newOpts.app.domain||(newOpts.app.domain="foxnews"),!_.isEmpty(currOpts.app.ampConfig))for(var id in _.isEmpty(newOpts.app.ampConfig)&&(newOpts.app.ampConfig={site:config.akamai.configParam.site[newOpts.app.domain]||null}),currOpts.app.ampConfig)newOpts.app.ampConfig[id]||(newOpts.app.ampConfig=currOpts.ampConfig);currOpts.app.domain!==newOpts.app.domain&&self._target.attr(VIDEO_DOMAIN_ATTR,newOpts.app.domain),self._opts.player={},self._opts.app.omtrVals={},_.merge(self._opts,newOpts),Rules.setApp(self._opts),self._PLAYER_READY=!1,self._INITIALIZED=!1,self.set(null,!0)}forceReEmbed||Helper.reEmbedIframe(self,newOpts)?reEmbed():Authentication.check(videoId,newOpts.app.domain||attr.domain||null,function(bool){bool?reEmbed():self._IframeListener.send("__change",{videoId:videoId,opts:newOpts})})}function setConfigMutedState(opts){var val=MutedState.get(),val="muted"===val||"unmuted"!==val&&null;null!==val&&(val?Rules.set("muted",opts):Rules.set("unmuted",opts))}return App.prototype.on=function(event,callback){"string"==typeof event&&"function"==typeof callback&&(this._EVENT_STACK[event]||(this._EVENT_STACK[event]=[]),this._EVENT_STACK[event].push(callback))},App.prototype.trigger=function(){var self=this,args=arguments,event=args[0],props=null,callback=null;function exec(){self._Events[event](callback,props)}"function"==typeof args[1]?callback=args[1]:("function"!=typeof args[1]&&(props=args[1]),"function"==typeof args[2]&&(callback=args[2])),self._Events[event]&&(self.isReady()?exec():self.on("player.ready",function(){exec()}))},App.prototype.isReady=function(){return!!this._PLAYER_READY},App.prototype.getOpts=function(){return this.__getOpts()},App.prototype.pause=function(){this.trigger("pause")},App.prototype.play=function(){this.trigger("play")},App.prototype.logout=function(){Authentication.logout()},App.prototype.change=function(videoId,newOpts){var res,pageType,currentView,host,self=this;Helper.validateVideoId(videoId)?videoId!==this._target.attr(VIDEO_UID_ATTR)&&(res=_.cloneDeep(config.optsDefault),_.isObject(newOpts)&&_.merge(res,newOpts),pageType=window.FNC&&window.FNC.ISA&&"function"==typeof window.FNC.ISA.meta?window.FNC.ISA.meta().pagetype:null,currentView=Detector.current(),host=window.location.hostname,_.merge(res.player,{pageType:currentView+":"+(pageType=pageType||"video.foxnews.com"!==host&&"video.foxbusiness.com"!==host?pageType:"video")}),_.merge(res.player,{anonId:LocalStorageUtil.getItem("anon_fpid")}),setConfigMutedState(newOpts=res),_.merge(newOpts,{app:{videoId:videoId}}),this._FORCE_RE_EMBED?(this._FORCE_RE_EMBED=!1,changeVideo(this,videoId,newOpts,!0)):this._PLAYER_READY?changeVideo(this,videoId,newOpts):(this._LISTENER_INIT||setTimeout(function(){self._LISTENER_INIT||(delete self._EVENT_STACK.__change,changeVideo(self,videoId,newOpts,!0))},3e3),this._EVENT_STACK.__change={videoId:videoId,opts:newOpts})):Helper.log("[change] invalid videoId:",videoId)},App.prototype.set=function(callback,RE_EMBED){var self,IframeListener,attr,validation,target,opts,EMBED_UID,VIDEO_ID,VIDEO_DOMAIN,IFRAME_MARKUP;function cont(info){function trigger(){opts.app.env;var aam,src="//"+(("qa"===ENV?"dev-":"staging"===ENV?"stage-":"")+"static.foxnews.com")+"/static/orion/html/video/iframe/"+(IS_PROTECTED?"tve":"vod")+".html?v="+CacheParam,val=((val=Helper.isV7())&&(src+="&"+val),(val=[]).push("uid="+Helper.enc(EMBED_UID)),val.push("url="+encodeURIComponent(window.location.hostname+window.location.pathname)),val.join("&")),markup=(_.merge(opts,{app:{videoId:VIDEO_ID,domain:VIDEO_DOMAIN}}),ISA.eu.enabled()&&ISA.eu.check()&&(_.merge(opts,{app:{eumode:!0}}),Rules.set("noAds",opts)),Helper.isAuthorMode()&&Rules.set("noAutoplay",opts),setConfigMutedState(opts),window.AamGpt&&"function"==typeof window.AamGpt.getCookie&&((aam=window.AamGpt.getCookie("fngpt")||!1)&&(aam=1<(aam=aam.split("=")).length?aam[1]:aam[0],_.merge(opts,{player:{params:{aam:aam}}})),(aam=window.AamGpt.getCookie("aam_did")||!1)&&(aam=1<(aam=aam.split("=")).length?aam[1]:aam[0],_.merge(opts,{player:{params:{aamId:aam}}}))),self._LISTENER_INIT||(self._LISTENER_INIT=!0,IframeListener.listen(function(event){var name=event.name,data=event.data;switch(name){case"iframe.ready":IframeListener.send("__load",self.__getOpts());break;case"player.ready.init":if(self._PLAYER_READY=!0,self._opts=_.merge(self._opts,data.opts),"function"==typeof callback&&callback(self),PageEmbed.store(EMBED_UID,"fox-news",self),self._EVENT_STACK.__change){var change=_.cloneDeep(self._EVENT_STACK.__change);try{delete self._EVENT_STACK.__change}catch(err){self._EVENT_STACK.__change=null}changeVideo(self,change.videoId,change.opts)}break;case"amp.play":case"amp.ads.started":case"amp.ads.play":PageEmbed.setPlayState(EMBED_UID,!0);break;case"amp.pause":PageEmbed.setPlayState(EMBED_UID,!1);break;case"amp.sharepanel.share":opts.app.noShare||!function(data){require(["core.plugins:Sharing"],function(Sharing){switch(data.provider){case"facebook":Sharing.facebook(data.url);break;case"twitter":Sharing.twitter({url:data.url,title:data.title});break;case"embed":break;case"email":var params=[];params.push("subject="+Helper.enc(data.title)),params.push("body=Video link:"+Helper.enc(data.url)),window.open("mailto:?"+params.join("&"),"_self")}})}(data);break;case"metrics.track.event":self._Tracking.track(data)}"player.ready.init"===name&&(name="player.ready",data={videoId:VIDEO_ID,uid:EMBED_UID,domain:opts.app.domain,bundleVersion:data.bundleVersion}),self._EVENT_STACK[name]&&triggerEventStack(self._EVENT_STACK[name],data)})),getIframeMarkup([src,val].join("#")));Promise.all([STRIKEInterface(),ISAInterface(),new Promise(function(resolve){self._Tracking.getPageInfo(function(pageInfo){Helper.log("Metrics PageInfo:",pageInfo),_.merge(opts,{app:{leapPageInfo:pageInfo}}),resolve()})})]).then(function(payload){function renderIframe(){target.empty(),target.html(markup)}if(payload[0]&&_.merge(opts,{player:{plugins:{foxnewsmediator:{strikeMap:payload[0]}}}}),(payload=payload[1]||{}).omtr&&_.merge(opts,{app:{omtrVals:payload.omtr}}),!isAMPPage&&!isExternalEmbed)return require("core.components:auth").experienceGate("videoId",VIDEO_ID).control({container:target},()=>{renderIframe()});renderIframe()})}var IS_PROTECTED=info.requiresAuth,IS_TVE=info.tve,IS_MVPD=info.mvpd;IS_PROTECTED&&(IS_TVE&&_.merge(opts,{app:{tve:!0}}),_.merge(opts,{app:{auth:{enabled:!0,domain:VIDEO_DOMAIN,mvpd:IS_MVPD?info.authNInfo:null}}}),IS_MVPD?_.merge(opts.player,{ais:{enabled:!1},params:{mvpdProvider:_.get(info,"authNInfo.providerInfo",null)}}):Rules.set("setAIS",opts)),target.attr(((IS_TVE={})["data-embed-uid"]=EMBED_UID,IS_TVE[VIDEO_UID_ATTR]=VIDEO_ID,IS_TVE));if(opts.app.overlay&&opts.app.overlay.enabled){IS_MVPD=_.cloneDeep(opts.app.overlay);if(Rules.set("autoplay",opts),"function"==typeof IS_MVPD.event){IS_MVPD.event(function(){trigger()});try{delete opts.app.overlay.event}catch(err){opts.app.overlay.event=null}}else new Overlay(target,VIDEO_ID,VIDEO_DOMAIN).set(function(){trigger()})}else trigger()}function getIframeMarkup(src){var src=IFRAME_MARKUP.replace("${src}",src),currentdomain=location.hostname;return target.hasClass("video-container")||-1!==currentdomain.indexOf("video.fox")||"alternate"!==_.get(window.PAGE_VARS,"mode",null)&&(src="1"===target[0].getAttribute("data-video-anchor")?'<a href="https://web.archive.org/web/20240116161150/https://www.foxnews.com/video/5614615980001"><div class="video-container">'+src+"</div></a>":'<div class="video-container">'+src+"</div>"),src}this._INITIALIZED||(this._INITIALIZED=!0,IframeListener=(self=this)._IframeListener,attr=getAttr(this._target),validation=function(target,opts,attr){var res=!0,errors=[];0===target.length?(res=!1,errors.push("target not found")):attr.videoId||opts.app.videoId||(errors.push("missing videoId"),res=!1);return{valid:res,errors:errors}}(this._target,this._opts,attr),callback="function"==typeof callback?callback:function(){},validation.valid?(target=this._target,opts=this._opts,EMBED_UID=this._UID,VIDEO_ID=opts.app.videoId||attr.videoId,VIDEO_DOMAIN=opts.app.domain||attr.domain,IFRAME_MARKUP='<iframe aria-label="MVPD Picker" src="${src}" border="0" frameborder="0" allow="autoplay" scrolling="no" style="width: 100%; height: 1px; min-height: 100%;" referrerpolicy="no-referrer-when-downgrade" mozallowfullscreen webkitallowfullscreen allowfullscreen></iframe>',Authentication.check(VIDEO_ID,VIDEO_DOMAIN,function(info){info.requiresAuth&&info.mvpd?Authentication.isUserAuthenticated(opts,function(authNInfo){var stack;_.merge(info,{authNInfo:authNInfo}),(stack=self._EVENT_STACK["mvpd.authentication"]||[])&&triggerEventStack(stack,authNInfo),authNInfo.authenticated?authNInfo.authorized?cont(info):(self._FORCE_RE_EMBED=!0,target.empty(),function(stack){Array.isArray(stack)&&0<stack.length?triggerEventStack(stack,authNInfo):Authentication.MVPD.showOverlay(target,authNInfo)}(self._EVENT_STACK["mvpd.unauthorized"]||[])):function(info,opts){var Chooser=new EventHandler,info=(Chooser.addHandler(setName("mvpd_iframe_ready_chooser"),function(data){Authentication.MVPD.setChooserMode(),Authentication.MVPD.setChooserLoadedTracking(),Chooser.sendMessage($("#mvpd-picker").get(0),setName("mvpd_iframe_init_chooser"),Authentication.MVPD.getInfo(opts))}),target.empty(),function(markup){markup=$(markup);return(/iframe/i.test(markup.get(0).tagName)?markup:markup.find("iframe:first")).attr("id","mvpd-picker"),markup}(getIframeMarkup(info.authNInfo.iframe)));function setName(val){return"_fnc_mvpd_"+val}target.append(info)}(info,opts)},RE_EMBED):cont(info)})):callback(validation,null))},App});
Modulr.define("core.video:views/fox-news/embed/migrate",["require","jquery","lodash","helper","config"],function(require,$,_,Helper,config){return function(Instance,opts,legacy){return legacy=_.cloneDeep(legacy),opts}});
Modulr.define("core.video:views/fox-news/embed/strike",["require","ISA"],function(require,ISA){ISA.meta||(ISA.meta=function(){return{}});var ISA=ISA.meta(),allow=/^fnc/.test(ISA.channel||"");return function(){return new Promise(function(resolve){if(window.location.pathname.includes("/video"))resolve(null);else{if(!!(!window.foxstrike||!allow))return resolve(null);window.foxstrike.cmd=window.foxstrike.cmd||[],window.foxstrike.cmd.push(function(Strike){"function"==typeof Strike.getPrebidVideoConfig?resolve(Strike.getPrebidVideoConfig()):resolve(null)})}})}});
Modulr.define("core.video:views/fox-news/embed/uid",["require","jquery","lodash","helper","config"],function(require,$,_,Helper,config){var VIDEO_EMBED_ITER=0;return function(){return"fox-video-embed-"+ ++VIDEO_EMBED_ITER}});
Modulr.define("core.video:views/fox-news/event.handler",["require","core.plugins:EventMessageHandler"],function(require){var EventHandler=require("core.plugins:EventMessageHandler");return function(target,uid,type,namePrefix){namePrefix=namePrefix||"generic.events";var Handler=new EventHandler,messageId=namePrefix+uid,LISTENER_STACK=[];Handler.addHandler(messageId,function(data){for(var i=0;i<LISTENER_STACK.length;i++)LISTENER_STACK[i](data)});this.listen=function(callback){"function"==typeof callback&&LISTENER_STACK.push(callback)},this.send=function(name,data){var dom;name&&(name={uid:"uid-embed-"+uid,name:name,data:void 0===data?null:data},data=namePrefix+uid,dom="string"==typeof target&&"parent"===target?"parent":target.find("iframe:first").get(0),Handler.sendMessage(dom,data,name))}}});
Modulr.define("core.video:views/fox-news/iframe/amp.events",["require","jquery","lodash","helper","config","core.plugins:OnWindowResize","core.plugins:EventMessageHandler"],function(require,$,_,Helper,config,akamai){var OnWindowResize=require("core.plugins:OnWindowResize"),FrameEvents=new(require("core.plugins:EventMessageHandler")),_overlay_center=!1;return function(amp,EventListener,opts,callback){var oncanplaythrough,send=function(name,data){EventListener.send(name,"object"==typeof data&&data.data||data||!0)};if(opts.player&&opts.player.getPlaybackOrder){opts.player.getPlaybackOrder=null;try{delete opts.player.getPlaybackOrder}catch(err){}}function authHandler(name,event){if(!event)return Helper.log("No authentication event data!");var isAuthorization=!(!event||!event.data||"boolean"!=typeof event.data.authorization),authConfig={resource:(authConfig=!!(event&&event.target&&event.target.config)&&event.target.config).resourceID,platform_id:authConfig.platformID},isAuthorization=(isAuthorization&&(authConfig.authorization=event.data.authorization),{name:name,data:{type:isAuthorization?"authorization":"authentication",data:event.data,auth:authConfig,videoId:opts&&opts.app&&opts.app.videoId?opts.app.videoId:null}});Helper.log("Authentication Handler:",name,isAuthorization),send("amp.auth.handler",isAuthorization)}function trigger(data){var data=data.data||data,feedData=amp&&amp.feed&&"function"==typeof amp.feed.getData?amp.feed.getData():_.get(amp,"feed.data",null),customShareURL=Helper.getQueryVar("shareUrl")||!1,customShareTitle=Helper.getQueryVar("shareTitle")||!1,customShareURL=customShareURL||data.link.replace(/beta\./,""),customShareTitle=customShareTitle?$("<span></span>").html(customShareTitle).text():_.get(feedData,"channel.item.title",""),info={videoId:_.get(feedData,"channel.item.guid",null),provider:"string"==typeof data.provider?data.provider:_.get(data,"provider.id",null),url:customShareURL,title:customShareTitle,opts:opts};"share"!==info.provider&&("embed"===info.provider?function(info){var body=$("body"),embed=body.find("> .share-panel.embed");0===embed.length&&($("body").prepend('<div class="share-panel embed">                <h1>Embed</h1>                <a href="#" title="Close">Close</a>                <textarea>Embed code inserted here</textarea>            </div>'),(embed=body.find("> .share-panel.embed")).find("textarea").unbind("focus").bind("focus",function(){var elm=$(this);elm.select(),elm.bind("mouseup",function(){return elm.unbind("mouseup"),!1})}),embed.find("> a:first").unbind("click").bind("click",function(evt){return evt.preventDefault(),embed.removeClass("show"),!1}),_overlay_center||function(target,force){function px(val){return val+"px"}function topScroll(){var s,w=win.height();return(s=win.scrollTop())+((s=Math.floor(w/2-overlayH/2))<0?0:s)}function leftScroll(){var l=body.offset().left,w=body.width();return l+Math.floor(w/2-overlayW/2)}var listener=!1,body=$("body"),win=$(window),overlayW=target.outerWidth(),overlayH=target.outerHeight();force&&target.css({top:px(topScroll()),left:leftScroll()});0 in window;OnWindowResize(function(){clearTimeout(listener),listener=setTimeout(function(){target.animate({top:px(topScroll()),left:leftScroll()},150,"swing")},150)})}(embed,_overlay_center=!0));var body=embed.find("textarea"),domain=/foxbusiness\.com/.test(window.location.hostname)||/foxbusiness\.com/.test(document.referrer)?"video.foxbusiness.com":"video.foxnews.com",siteLink=-1<domain.indexOf("video.foxbusiness")?"foxbusiness.com":"foxnews.com",protocol=window.location.protocol,info=info.videoId,domain='<script type="text/javascript" src="'+protocol+"//"+domain+"/v/embed.js?id="+info+'&w=466&h=263"><\/script><noscript>Watch the latest video at <a href="'+protocol+"//web.archive.org/web/20240116161150/https://www."+siteLink+'">'+siteLink+"</a></noscript>";body.val(domain),embed.addClass("show")}(info):(window.leapmetrics=window.leapmetrics||[],window.leapmetrics.push(function(Leap){Leap.track("share",{page_content_shared:info.url,page_share_method:info.provider}).then(function(){})}),send("amp.sharepanel.share",info)))}function sendVideoInfo(type,data){send("info.change",{data:{type:type,info:data,opts:opts},opts:opts})}amp.ads&&(amp.ads.addEventListener("companion",function(data){send("amp.ads.companion",{data:{companions:!!(data&&data.data&&data.data.companions)&&data.data.companions}})}),amp.ads.addEventListener("started",function(data){send("amp.ads.started",data)}),amp.ads.addEventListener("ended",function(data){send("amp.ads.ended",data)}),amp.ads.addEventListener("error",function(){}),amp.ads.addEventListener("play",function(data){send("amp.ads.play",data)}),amp.ads.addEventListener("pause",function(data){send("amp.ads.pause",data)})),amp.auth&&(amp.auth.addEventListener("authorizationfailed",function(data){authHandler("authorizationfailed",data)}),amp.auth.addEventListener("authenticated",function(data){authHandler("authenticated",data)}),amp.auth.addEventListener("launchidplogin",function(data){Helper.setAISCookie(opts),$(window).bind("beforeunload",function(){0})})),amp.autoadvance&&amp.autoadvance.addEventListener("advance",function(data){send("amp.advance",data)}),amp.recommendations&&amp.recommendations.addEventListener("selected",function(data){send("amp.recommendations",data)}),"function"==typeof window.enableLiveAds&&amp.addEventListener("canplaythrough",oncanplaythrough=function(){amp.removeEventListener("canplaythrough",oncanplaythrough),window.enableLiveAds(amp)}),amp.addEventListener("mediachange",function(data){send("amp.mediachange",{amp:data.data,opts:opts}),sendVideoInfo("mediachange",data.data)}),amp.addEventListener("play",function(data){send("amp.play",{amp:data.data,opts:opts})}),amp.addEventListener("ended",function(data){send("amp.ended",{amp:data.data,opts:opts})}),amp.addEventListener("pause",function(data){send("amp.pause",{amp:data.data,opts:opts})}),amp.addEventListener("fullscreenchange",function(data){send("amp.fullscreenchange",{amp:data.data,opts:opts})}),amp.addEventListener("mutechange",function(data){send("amp.mutechange",{amp:data.data,opts:opts})}),amp.addEventListener("started",function(data){send("amp.started",{amp:data.data,opts:opts})}),amp.addEventListener("playing",function(data){send("amp.playing",{amp:data.data,opts:opts})}),(amp.sharepanel||amp).addEventListener("share",trigger),amp.feed&&amp.feed.addEventListener("loaded",function(data){send("amp.feed.loaded",{feed:data.data,opts:opts}),sendVideoInfo("feed.loaded",data.data)}),function(name,callback){FrameEvents.addHandler(name,function(){callback.apply(callback,arguments)})}("ais-popup.page-reload",function(){send("amp.auth.reloadParentPage")})}});
Modulr.define("core.video:views/fox-news/iframe/amp.functions",["require","jquery","lodash","helper","config"],function(require,$,_,Helper,config){return function(amp,IS_LEGACY){function createCategoryString(categories,tag){var items=[];categories=categories||[];for(var i=0;i<categories.length;i++){var item=categories[i];if(startsWith(item,tag)){item=(item=item.replace(tag,"")).split("/")[0];-1===$.inArray(item,items)&&items.push(item);break}}return items.join(",")}function startsWith(str,val){var ret=!1;if($.isArray(val)){for(var i=0;i<val.length;i++)if(0===str.indexOf(val[i])){ret=!0;break}}else"string"==typeof str&&(ret=0===str.indexOf(val));return ret}window.getAdParams_SDMax=function(media){var sdmax=0,query="",AMPMedia=amp&&amp.feed&&"function"==typeof amp.feed.getData?amp.feed.getData():_.get(amp,"feed.data",null),AMPDuration=function(){var duration=getDuration(_.get(AMPMedia,"channel.item",null));return isNaN(duration)?null:duration}(),media=(AMPDuration=null!==AMPDuration?AMPDuration:getDuration(media.metadata))&&!isNaN(AMPDuration)?parseFloat(AMPDuration):-1;function getDuration(item){item=_.get(item,["media-group","media-content"],null);return Array.isArray(item)?_.get(item[0],["@attributes","duration"],null):null}return-1===media?sdmax=90:media<=45?sdmax=45:45<media&&media<=180?sdmax=60:180<media&&media<=600&&(sdmax=90),query=sdmax?1e3*sdmax:query},window.getAdParams_SZ=function(media){return["1001x1001"].join("|")},window.isLive=function(categories){for(var ret="false",cat=categories||[],x=0;x<cat.length;x++)if(-1<cat[x].indexOf("live_stream")){ret="true";break}return ret},window.createShowCategory=function(category){for(var modified=[],i=0;i<category.length;i++){var item=category[i];startsWith(item,"special")||startsWith(item,"settings")||-1!==$.inArray(item,modified)||modified.push(item)}return modified.join(",")},window.createShowName=function(category){category=createCategoryString(category,"on_air/");return category="personality"===category?"":category},window.createShowPersonality=function(category){return createCategoryString(category,"personality/")||createCategoryString(category,"on_air/personality/")},window.createShowSection=function(category){var val=function(){for(var ret=!1,i=0;i<category.length;i++){var item=category[i];if(0===item.indexOf("primary_")){ret=item.replace("primary_","");break}}return ret}();return val?"partner_content"!==val&&"personality"!==val||(val="null"):val=function(){for(var ret="",common=["full_episode","hot_topics","on_air","partner_content","personality","promotion","settings","special","web_exclusives","3play_processed"],foxbiz=["events","exclusive","government","politics"],foxnews=(foxnews=["cleartv","business","latino","mobile","odd_news"]).concat(common),foxbiz=foxbiz.concat(common),i=0;i<category.length;i++){var item=category[i];if(/foxnews/.test(window.location.hostname)&&!startsWith(item,foxnews)){ret=item.split("/")[0];break}if(/foxbusiness/.test(window.location.hostname)&&!startsWith(item,foxbiz)){ret=item.split("/")[0];break}val||(ret="false")}return ret}(),val},window.AEP={jsCallbackHandler:function(id,type,data){}}}});
Modulr.define("core.video:views/fox-news/iframe/default.rules",["require","jquery","lodash","helper","config","@fnc/rules"],function(require,$,_,Helper,config){var Rules=require("@fnc/rules");return function(opts){opts.app.tve?Rules.set("playername",opts,"qa"===config.cdn.env?"beta_tve":"tve"):Rules.set("playername",opts,Helper.getQueryVar("pn")||opts.player.name),/html/.test(opts.player.mode)&&Rules.set("moat",opts),Rules.set("embedUrl",opts),opts.app.omtrVals||Rules.set("noHeartbeat",opts),opts.app.videoId===config.fncRadioId&&Rules.set("fncRadio",opts),-1<config.heartbeatLive.indexOf(opts.app.videoId)&&Rules.set("heartbeatLive",opts),opts.app.tve&&Rules.set("noShare",opts),_.merge(opts.player,{referrerUrl:(app=opts.app).referrerUrl||["https://web.archive.org/web/20240116161150/https://video.","foxbusiness"===app.domain?"foxbusiness":"foxnews",".com/v/"+app.videoId].join("")});var app=_.get(opts.app,"domain",null),pageType=_.get(opts.player,"pageType",null);"foxnews"===app&&pageType&&-1!==pageType.indexOf("amp")&&(pageType=_.get(opts.app,"leapPageInfo.properties.url",null),app="https://web.archive.org/web/20240116161150/https://www."+app+".com",_.merge(opts.player,{autoplay:!1,pageUrl:pageType?pageType.slice(0,pageType.lastIndexOf(".")):app}))}});
Modulr.define("core.video:views/fox-news/iframe/events",["require","jquery","lodash","helper","config","models/is.authenticated","models/get.video","@fnc/iframe/default.rules","@fnc/iframe/amp.events","@fnc/iframe/amp.functions","core.plugins:LoadAttempt","views/fox-news/migrate.v9","ISA"],function(require,$,_,Helper,config,akamai){function attempt(callback,success){require("core.plugins:LoadAttempt")(150,150,callback,success,function(){Helper.log("warning: failed event attempt!"),Helper.log(callback)})}function Events(EventListener){this._EventListener=EventListener,this._PLAYER_INSTANCE=null,this._opts=null,this._READY_FOR_EVENTS=!1}var DefaultRules=require("@fnc/iframe/default.rules"),IsAuthenticated=require("models/is.authenticated"),GetVideoFeed=require("models/get.video"),ISA=require("ISA"),MIGRATE_V9=require("views/fox-news/migrate.v9"),AMP_EVENTS=require("@fnc/iframe/amp.events"),AMP_FUNCTIONS=require("@fnc/iframe/amp.functions");return Events.prototype.play=function(){var amp=this._PLAYER_INSTANCE,ready=(this._EventListener,this._READY_FOR_EVENTS);attempt(function(){return!(!ready||!amp||"function"!=typeof amp.play)},function(){setTimeout(function(){amp.play()},150)})},Events.prototype.pause=function(){var amp=this._PLAYER_INSTANCE,ready=(this._EventListener,this._READY_FOR_EVENTS);attempt(function(){return!(!ready||!amp||"function"!=typeof amp.pause)},function(){amp.pause()})},Events.prototype.pauseState=function(callback){var amp=this._PLAYER_INSTANCE,event=this._EventListener,ready=this._READY_FOR_EVENTS;attempt(function(){return!(!ready||!amp||"function"!=typeof amp.getPaused)},function(){var bool=amp.getPaused();event.send("player.pauseState",bool),"function"==typeof callback&&callback(bool)})},Events.prototype.mute=function(){var amp=this._PLAYER_INSTANCE,event=this._EventListener,ready=this._READY_FOR_EVENTS;attempt(function(){return!(!ready||!amp||"function"!=typeof amp.mute)},function(){amp.mute(),event.send("player.mute",{volume:amp.getVolume()})})},Events.prototype.unmute=function(){var amp=this._PLAYER_INSTANCE,event=this._EventListener,ready=this._READY_FOR_EVENTS;attempt(function(){return!(!ready||!amp||"function"!=typeof amp.unmute)},function(){amp.unmute(),event.send("player.unmute",{volume:amp.getVolume()})})},Events.prototype.volume=function(){var amp=this._PLAYER_INSTANCE,event=this._EventListener,ready=this._READY_FOR_EVENTS;attempt(function(){return!(!ready||!amp||"function"!=typeof amp.getVolume)},function(){event.send("player.volume",{volume:amp.getVolume()})})},Events.prototype.volumeSet=function(info){var amp=this._PLAYER_INSTANCE,event=this._EventListener,ready=this._READY_FOR_EVENTS;attempt(function(){return!(!ready||!amp||"function"!=typeof amp.setVolume||"function"!=typeof amp.getVolume)},function(){amp.setVolume(info.val),event.send("player.volume.set",{volume:amp.getVolume()})})},Events.prototype.muteState=function(){var amp=this._PLAYER_INSTANCE,event=this._EventListener,ready=this._READY_FOR_EVENTS;attempt(function(){return!(!ready||!amp||"function"!=typeof amp.getMuted)},function(){event.send("player.muteState",{state:amp.getMuted()})})},Events.prototype.jump=function(data){var amp=this._PLAYER_INSTANCE,event=this._EventListener,ready=this._READY_FOR_EVENTS;if("number"!=typeof data)return!1;var iter=0;attempt(function(){return!(!ready||!amp||"function"!=typeof amp.setCurrentTime)},function(){!function trigger(){var curr=amp.getCurrentTime();isNaN(curr)?iter<100&&(iter++,setTimeout(function(){trigger()},50)):(amp.setCurrentTime(data),event.send("player.jump",!0))}()})},Events.prototype.logout=function(){var amp=this._PLAYER_INSTANCE,ready=(this._EventListener,this._READY_FOR_EVENTS),opts=this._opts;opts.app.auth&&opts.app.auth.enabled&&attempt(function(){return!!(ready&&amp&&amp.auth&&"function"==typeof amp.auth.logout)},function(){Helper.setAISCookie(opts),amp.auth.logout()})},Events.prototype.pageFlag=function(info){this._PLAYER_INSTANCE,this._EventListener,this._READY_FOR_EVENTS},Events.prototype.__change=function(data){var amp=this._PLAYER_INSTANCE,ready=(this._EventListener,this._READY_FOR_EVENTS),urlInfo=Helper.setUrlQuery(window.location.href,{id:data.videoId}),newHash=function(){var id,res=[];for(id in urlInfo.hash)res.push([id,urlInfo.hash[id]].join("="));return res="#"+res.join("&")}();window.location.hash=newHash,attempt(function(){return!!(ready&&amp&&amp.feed&&"function"==typeof amp.feed.setData)},function(){var url=function(){return url=/foxbusiness/.test(data.domain)?"//web.archive.org/web/20240116161150/https://api.foxbusiness.com"+config.akamai.feed.replace("${videoId}",data.videoId):"//web.archive.org/web/20240116161150/https://api.foxnews.com"+config.akamai.feed.replace("${videoId}",data.videoId)};$.ajax({url:url,dataType:"jsonp",jsonpCallback:"uid_"+data.videoId,data:{cb:Helper.cacheBuster(5)},cache:!0,async:!0}).done(function(data){amp.feed.setData(data)})})},Events.prototype.__load=function(opts){var domain,triggered,self=this,EventListener=this._EventListener,useVersion=opts.app.bundleVersion||config.akamai.version,IS_LEGACY=(this._videoId=opts.app.videoId,Helper.isLegacyVersion(useVersion)),loadPlayer=function(){ret="https://web.archive.org/web/20240116161150/https://api.foxnews.com/v3/video-player/${videoId}";var ret=(ret="foxbusiness"===opts.app.domain?"https://web.archive.org/web/20240116161150/https://api.foxbusiness.com/v3/video-player/${videoId}":ret).replace("${videoId}",self._videoId),bundlePath=(IS_LEGACY?_.merge(opts,{player:{feed:{url:ret}}}):_.merge(opts,{player:{plugins:{mrss:{url:ret}}}}),window.TrackEvent={track:function(data){EventListener.send("metrics.track.event",data)},getPageInfo:function(){return opts.app.leapPageInfo||null}},ret="qa"===config.cdn.dev&&"prod"===opts.app.bundleEnv?"prod":null,Helper.generateBundlePaths(useVersion,ret,opts));DefaultRules(opts),Helper.loadScript([bundlePath.script],function(){attempt(function(){return!!(window.akamai&&window.akamai.amp&&window.akamai.amp.AMP)},function(){var customConf=_.cloneDeep(opts.player),mvpdInfo=opts.app.auth&&opts.app.auth.mvpd?opts.app.auth.mvpd:null;function next(conf){function handler(player){function cont(){AMP_EVENTS(self._PLAYER_INSTANCE,EventListener,opts),EventListener.send("player.ready.init",{opts:opts,bundleVersion:opts.app.bundleVersion||config.akamai.version}),self._READY_FOR_EVENTS=!0}IS_LEGACY||(window.amp=player,self._PLAYER_INSTANCE=player),AMP_FUNCTIONS(self._PLAYER_INSTANCE,IS_LEGACY),mvpdInfo?IsAuthenticated.authorization(opts,function(){self._PLAYER_INSTANCE.addEventListener("authorize",function(){var payload={token:mvpdInfo.token,expiration:mvpdInfo.ttl};self._PLAYER_INSTANCE.authorize(payload)}),cont()}):cont()}Helper.log("full video config:",conf),IS_LEGACY?(window.amp=window.akamai.amp.AMP.create("player",conf,handler),self._PLAYER_INSTANCE=window.amp):window.akamai.amp.AMP.create("player",conf).then(handler)}GetVideoFeed(opts.app.videoId,{domain:opts.app.domain},function(videoFeedData){IS_LEGACY||(customConf=MIGRATE_V9.setConfig(customConf,!(!mvpdInfo&&!videoFeedData.live_stream))),Helper.log("passed config:",customConf),window.akamai.amp.AMP.loadDefaults?window.akamai.amp.AMP.loadDefaults(bundlePath.conf,function(){next(customConf)}):window.akamai.amp.AMP.requestJson(bundlePath.conf).then(function(videoConf){next(window.akamai.amp.Utils.override(videoConf,customConf))})})})})};if(window.s_account=opts.app.omtrVals?opts.app.omtrVals.s_account:"foxnews",window.omtr)try{delete window.omtr}catch(err){window.omtr=null}function next(){var shims;opts.app.omtrVals&&-1===opts.app.rules.indexOf("noAds")?(shims=[],-1===opts.app.rules.indexOf("noTracking")&&shims.push("adobe.visitor"),shims.push("isa.omniture"),require(shims,function(){_.merge(window.omtr,opts.app.omtrVals.merged),Helper.log("Omniture omtr variable in video iframe:",window.omtr),loadPlayer()})):loadPlayer()}opts.app.leapPageInfo,domain=opts.app.domain||"",triggered=!1,ISA.provider("leapmetrics",function(Provider){Provider.enabled()?Provider.get(function(Leap){triggered=!0;var siteId=/foxbusiness/.test(domain)?"fbn":"fnc";Helper.log("initializing leapmetrics:",siteId),Leap.initialize({siteId:siteId}),next()}):(triggered=!0,next())}),setTimeout(function(){triggered||next()},5e3)},API.prototype.trigger=function(event,data){this._Events[event]&&this._Events[event](data)},API.prototype.setOpts=function(opts){this._Events._opts=opts},API;function API(EventListener){this._EventListener=EventListener,this._Events=new Events(EventListener)}});
Modulr.define("core.video:views/fox-news/iframe/main",["require","jquery","lodash","helper","config","@fnc/listener","core.base:utils/akamai"],function(require,$,_,Helper,config){function App(type,opts){this._type=type,this._opts="object"==typeof opts?opts:{},_.merge(this._opts,{player:_.cloneDeep(ALL_PLAYER_DEFAULTS)}),this._UID=Helper.getQueryVar("uid")||"self",this._EventListener=EventListener.create("parent",this._UID,"iframe")}var AkamaiTime=require("core.base:utils/akamai").time,EventListener=require("@fnc/listener"),ALL_PLAYER_DEFAULTS={mode:"html",name:"embed",flash:{vars:{live_timestamp_timezone_offset:AkamaiTime.isDST().val?"-4":"-5"}},params:{adparamSDMAX:"#{window.getAdParams_SDMax(media)}",adparamSZ:"#{window.getAdParams_SZ(media)}",paramIsLive:"#{window.isLive(media.category)}",section:"#{window.createShowSection(media.category)}",eVar32:"#{window.createShowName(media.category)}",prop32:"#{window.createShowName(media.category)}",eVar33:"#{window.createShowCategory(media.category)}",prop33:"#{window.createShowCategory(media.category)}",eVar34:"#{window.createShowPersonality(media.category)}",prop34:"#{window.createShowPersonality(media.category)}"},autoadvance:{enabled:!1},mediaanalytics:{dimensions:{device:"#{player.mode}"}},rules:{PDL_LOW:{label:"Android 4 or Kindle Fire HD avoid HLS and get PDL_MED_LOW",regexp:"Android 4"}}};return App.prototype.set=function(callback){var self=this,opts=this._opts;require(["@fnc/iframe/"+this._type],function(View){new View(opts,self._EventListener,callback)})},App});
Modulr.define("core.video:views/fox-news/iframe/strike",["require","jquery","lodash","helper"],function(require,$,_,Helper){return function(opts){"foxnews"===_.get(opts.app,"domain",null)&&Helper.loadScript("//web.archive.org/web/20240116161150/https://static.foxnews.com/static/strike/ver/foxnews/loader.amp.js",function(){Helper.log("Strike loaded! >>>>>")})}});
Modulr.define("core.video:views/fox-news/iframe/tve",["require","jquery","lodash","helper","config","@fnc/iframe/events","@fnc/rules"],function(require,$,_,Helper,config){var Events=require("@fnc/iframe/events"),Rules=require("@fnc/rules"),PLAYER_DEFAULTS={ais:{enabled:"ais"===config.authMode.type},autoplay:!1,getPlaybackOrder:function(order){if(/Edge|Android|Safari/.test(navigator.userAgent))return["hls","dash","dvr","default","audio"]}};return function(opts,EventListener,callback){var self=this;this._opts=_.merge({player:_.cloneDeep(PLAYER_DEFAULTS)},_.cloneDeep(opts)),this._Events=new Events(EventListener),EventListener.listen(function(event){var name=event.name,event=event.data;"__load"===name?(_.merge(self._opts,event),Rules.setApp(self._opts),self._Events.setOpts(self._opts),self._Events.trigger(name,_.cloneDeep(self._opts)),"function"==typeof callback&&callback(_.cloneDeep(self._opts))):self._Events.trigger(name,event)}),EventListener.send("iframe.ready")}});
Modulr.define("core.video:views/fox-news/iframe/vod",["require","jquery","lodash","helper","config","@fnc/iframe/events","@fnc/rules","@fnc/iframe/strike"],function(require,$,_,Helper,config){var Events=require("@fnc/iframe/events"),Rules=require("@fnc/rules"),StrikeLoad=require("@fnc/iframe/strike"),PLAYER_DEFAULTS={autoplay:!1};return function(opts,EventListener,callback){var self=this;this._opts=_.merge({player:_.cloneDeep(PLAYER_DEFAULTS)},_.cloneDeep(opts)),this._queryVideoId=Helper.getQueryVar("video_id")||null,this._Events=new Events(EventListener),this._queryVideoId?(_.merge(this._opts,{app:{videoId:this._queryVideoId}}),this._Events.setOpts(this._opts),this._Events.trigger("__load",this._opts)):(EventListener.listen(function(event){var name=event.name,event=event.data;"__load"===name?(_.merge(self._opts,event),Rules.setApp(self._opts),StrikeLoad(self._opts),self._Events.setOpts(self._opts),self._Events.trigger(name,_.cloneDeep(self._opts)),"function"==typeof callback&&callback(_.cloneDeep(self._opts))):self._Events.trigger(name,event)}),EventListener.send("iframe.ready"))}});
Modulr.define("core.video:views/fox-news/listener",["require","jquery","lodash","helper","config","@fnc/event.handler"],function(require,$,_,Helper,config){function API(){this._EVENTS_STACK={}}var EventHandler=require("@fnc/event.handler");return API.prototype.create=function(target,uid,type){return uid&&target?(type=type||null,this._EVENTS_STACK[uid]||(this._EVENTS_STACK[uid]=new EventHandler(target,uid,type,Helper.setEventName("event.listener."))),this._EVENTS_STACK[uid]):null},API.prototype.get=function(uid){return this._EVENTS_STACK[uid]||null},new API});
Modulr.define("core.video:views/fox-news/migrate.v9",["require","lodash","helper"],function(require,_,Helper){return new function(){this.setConfig=function(props,setSDMAX){for(var list=["autoadvance","mediaanalytics","moat"],i=0;i<list.length;i++){var obj,id=list[i];props[id]&&((obj={})[id]=_.clone(props[id]),_.merge(props,{plugins:obj}),delete props[id])}return((props=_.omit(props,["flash","ais"])).ima||props.anonId||props.persistId)&&(props.ima=props.ima||{},props.ima.ppid=props.anonId||props.persistId||null,Helper.log("IMA props",props.ima),_.merge(props,{plugins:{ima:props.ima}}),delete props.ima,delete props.anonId,delete props.persistId),setSDMAX&&_.merge(props,{plugins:{ima:{adTagUrl:{params:{sdmax:"#{adparamSDMAX}"}}}}}),props}}});
Modulr.define("core.video:views/fox-news/rules",["require","jquery","lodash","helper","config","cdn"],function(require,$,_,Helper,config,CDN){function App(){}function playerMerge(currOpts,newOpts){_.merge(newOpts,_.cloneDeep(currOpts)),_.merge(currOpts,newOpts)}App.prototype.autoplay=function(opts,props){_.merge(opts.player,{autoplay:!0,usersettings:{enabled:!1}}),"muted"===props&&_.merge(opts.player,{autoplayPolicy:"muted"}),isLegacy(opts)&&_.merge(opts.player,{flash:{vars:{user_controlled_autoplay:!0,auto_play_override:!0}}})},App.prototype.autostart=function(opts){_.merge(opts.player,{autoplay:!0}),isLegacy(opts)&&_.merge(opts.player,{flash:{vars:{user_controlled_autoplay:!0,auto_play_override:!0}}})},App.prototype.noAutoplay=function(opts,props){_.merge(opts.player,{autoplay:!1,usersettings:{enabled:!1}}),isLegacy(opts)&&_.merge(opts.player,{flash:{vars:{user_controlled_autoplay:!0}}})},App.prototype.noAds=function(opts,props){_.merge(opts.player,{plugins:{ima:{enabled:!1}}}),isLegacy(opts)&&_.merge(opts.player,{flash:{vars:{core_ads_enabled:!1}}})},App.prototype.noTracking=function(opts,props){if(isLegacy(opts))return playerMerge(opts.player,{nielsen:{enabled:!1},chartbeatanalytics:{enabled:!1},chartbeat:{enabled:!1},comscore:{enabled:!1},comscorestreamsense:{enabled:!1},omniture:{enabled:!1,useJS:!1,heartbeat:{enabled:!1}},plugins:{segment:{enabled:!1}}});playerMerge(opts.player,{plugins:{nielsenlegacy:{enabled:!1},chartbeatanalytics:{enabled:!1},comscorestreamsense:{enabled:!1},omniture:{enabled:!1},heartbeat:{enabled:!1},segment:{enabled:!1}}})},App.prototype.playername=function(opts,props){props=props||opts.player.name||"inpage";if(_.merge(opts.player,{name:props,params:{playerName:props}}),isLegacy(opts))return _.merge(opts.player,{mediaanalytics:{fields:{pageName:{type:"value",value:props}}},flash:{vars:{core_player_name:props,core_ad_player_name:props,core_omniture_player_name:props}}});_.merge(opts.player,{plugins:{mediaanalytics:{fields:{pageName:{type:"value",value:props}}}}})},App.prototype.pageType=function(opts,props){props&&_.merge(opts.player,{pageType:props})},App.prototype.anonId=function(opts,anonIdValue){opts&&_.merge(opts.player,{anonId:anonIdValue})},App.prototype.moat=function(opts,props){if(!opts.app.rules||(!opts.app.rules||!/(noAds|noTracking)/.test(opts.app.rules.join("|")))){if(isLegacy(opts))return _.merge(opts.player,{moat:{data:{partnerCode:"foxima87313513"}}});_.merge(opts.player,{plugins:{moat:{data:{partnerCode:"foxima87313513"}}}})}},App.prototype.embedUrl=function(opts,props){if(!opts.player.params.parentEmbedUrl)try{var url;window.location!==window.parent.location&&(url=document.referrer,_.merge(opts.player,{params:{parentEmbedUrl:url}}))}catch(err){}},App.prototype.noHls=function(opts,props){_.merge(opts.player,{hls:{enabled:!1}})},App.prototype.noHlsCredentials=function(opts,props){_.merge(opts.player,{hls:{withCredentials:!1}})},App.prototype.heartbeat=function(opts,props){_.merge(opts.player,{omniture:{useJS:!1,heartbeat:{enabled:!0}}})},App.prototype.heartbeatLive=function(opts,props){_.merge(opts.player,{omniture:{useJS:!1,heartbeat:{enabled:!0,liveLinear:{enabled:!0}}}})},App.prototype.noHeartbeat=function(opts,props){_.merge(opts.player,{omniture:{useJS:!1,heartbeat:{enabled:!1}}})},App.prototype.fncRadio=function(opts,props){_.merge(opts.app,{domain:"foxnews",ampConfig:{site:config.akamai.configParam.site.radio}}),_.merge(opts.player,{hls:{withCredentials:!1},omniture:{useJS:!1,heartbeat:{enabled:!0,liveLinear:{enabled:!0}}}})},App.prototype.foxnews=function(opts,props){_.merge(opts.app,{domain:"foxnews",ampConfig:{site:config.akamai.configParam.site.foxnews}})},App.prototype.foxbusiness=function(opts,props){_.merge(opts.app,{domain:"foxbusiness",ampConfig:{site:config.akamai.configParam.site.foxbusiness}})},App.prototype.fncInsider=function(opts,props){_.merge(opts.app,{domain:"video.insider",ampConfig:{site:config.akamai.configParam.site.insider}})},App.prototype.fncNation=function(opts,props){_.merge(opts.app,{domain:"foxnews",ampConfig:{site:config.akamai.configParam.site.nation}})},App.prototype.fbnLive=function(opts,props){_.merge(opts.app,{domain:"foxbusiness",ampConfig:{site:config.akamai.configParam.site["live.foxbusiness"]}})},App.prototype.noShare=function(opts,props){_.merge(opts.player,{sharepanel:{enabled:!1}}),isLegacy(opts)&&_.merge(opts.player,{flash:{vars:{share_mode:"2",show_sharing_overlay:"false",show_email_overlay:"false"}}})},App.prototype.setAIS=function(opts,props){var res,platformID=config.ais.platformId,prefix=props&&props.prefix?props.prefix:null;isLegacy(opts)&&(opts.app.tve?res=(opts.app.videoId===config.tve.foxbusiness.videoId?config.tve.foxbusiness:config.tve.foxnews).resourceID:opts.app.auth&&(res=(opts.app.auth.domain?config.authenticated[opts.app.auth.domain]:config.authenticated.foxnews).resourceID),_.merge(opts.player,{aisPrefix:"video",ais:{platformID:platformID,resourceID:res,contentID:"#{media.guid}",responseTargets:Helper.setResponseTarget(res,prefix),logos:{base:CDN.domain+"/static/orion/img/video/auth-logos/chooser/",group:"top_providers",key:"filename"}},flash:{vars:{core_omniture_account:"foxnewsmaven"}}}),opts.player.omniture||this.heartbeatLive(opts,props),props&&props.redir&&this.authRedir(opts,props.redir),this.noShare(opts))},App.prototype.authRedir=function(opts,props){isLegacy(opts)&&"string"==typeof props&&_.merge(opts.player,{ais:{redir:props}})},App.prototype.noTitleBar=function(opts,props){_.merge(opts.player,{titlebar:{enabled:!1}})},App.prototype.previewMode=function(opts,props){_.merge(opts.player,{titlebar:{enabled:!1},plugins:{react:{mode:"none"}},captioning:{enabled:!1}})},App.prototype.autoAdvance=function(opts,props){if(isLegacy(opts))return _.merge(opts.player,{autoadvance:{enabled:!0}});_.merge(opts.player,{plugins:{autoadvance:{enabled:!0}}})},App.prototype.muted=function(opts,props){_.merge(opts.player,{autoplay:!0,muted:!0,autoplayPolicy:"default"})},App.prototype.unmuted=function(opts,props){_.merge(opts.player,{muted:!1,autoplayPolicy:"default"})};var rules=new App;function isLegacy(opts){opts=_.get(opts,"app.bundleVersion",config.akamai.version);return Helper.isLegacyVersion(opts)}return API.prototype.set=function(id,opts,props){rules[id]&&rules[id](opts,props)},API.prototype.setApp=function(opts){if($.isArray(opts.app.rules)&&0<opts.app.rules.length)for(;0<opts.app.rules.length;){var item=opts.app.rules.shift(),index=item.indexOf(":"),id=item,props=null;-1<index&&(id=item.slice(0,index),props=item.slice(index+1)),rules[id]&&rules[id](opts,props)}},new API;function API(){}});
Modulr.define("core.video:views/vimeo/main",["require","jquery","helper","config","ISA","models/embeds","core.plugins:OnWindowResize"],function(require,$,Helper,config,ISA){function App(target,opts){this._target=target,this._opts=opts||{},this._videoId=target.find(".video-vimeo").attr("video-id"),this._UID=PageEmbed.generateUID(),PageEmbed.initialize(this._UID,"vimeo")}var PageEmbed=require("models/embeds"),ARTICLE_BODY=Helper.getArticleBody(),OnWindowResize=require("core.plugins:OnWindowResize");return App.prototype.set=function(id,target){this.setLegacy(this._target,this._videoId)},App.prototype.setLegacy=function(target,videoId){target.each(function(){var elm=$(this),id=videoId||!1;if(!id)return!1;var iframe,body=ARTICLE_BODY,width=body.width(),height=Helper.getHeight(width);elm.html('<iframe src="//web.archive.org/web/20240116161150/https://player.vimeo.com/video/'+id+'" width="'+width+'px" height="'+height+'px" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),iframe=elm.find("iframe:first"),OnWindowResize(function(){var w=body.width(),h=Helper.getHeight(w);iframe.css({width:w,height:h})},50)})},App.prototype.pause=function(){},App});
Modulr.define("core.video:views/youtube/main",["require","jquery","helper","config","ISA","models/embeds","@fnc/listener","core.plugins:OnWindowResize"],function(require,$,Helper,config,ISA){function App(target,opts){this._target=target,this._opts=opts||{},this._videoId=target.find(".video-youtube").attr("video-id"),this._INITIALIZED=!1,this._UID=PageEmbed.generateUID(),PageEmbed.initialize(this._UID,"youtube")}var PageEmbed=require("models/embeds"),ARTICLE_BODY=Helper.getArticleBody(),OnWindowResize=require("core.plugins:OnWindowResize");return App.prototype.set=function(id,target){this.setLegacy(this._target,this._videoId)},App.prototype.setLegacy=function(target,videoId){target.each(function(){var elm=$(this),id=videoId||!1;if(!id)return!1;var iframe,body=ARTICLE_BODY,width=body.width(),height=Helper.getHeight(width);elm.html('<iframe src="//web.archive.org/web/20240116161150/https://www.youtube.com/embed/'+id+'?version=3&enablejsapi=1" frameborder="0" style="width:'+width+"px; height:"+height+'px;"></iframe>'),iframe=elm.find("iframe:first"),OnWindowResize(function(){var w=body.width(),h=Helper.getHeight(w);iframe.css({width:w,height:h})},50)})},App});
!function(Modulr,FNC){var config,Instance,AKAMAI_BUNDLE_VERSION=function(ISA){ISA&&ISA.meta();ISA="9.0.23";return ISA=-1<window.location.search.indexOf("_vidv7=1")?"7.109.10":ISA}(FNC.ISA);function App(){this._app=null}Modulr.getInstance("core.video")||(config={instance:"core.video",baseDomain:FNC.CDN.domain,baseUrl:"/static/orion/scripts/core/video/app",masterFile:"/static/orion/scripts/core/utils/modulr/master.js",paths:{"@fnc":"views/fox-news","@youtube":"views/youtube","@vimeo":"views/vimeo"},packages:["core.plugins","core.base","core.components"],shim:{jquery:{src:"/static/orion/scripts/core/utils/jquery/core.js",exports:"jQuery"},"jquery.cookie":{src:"/static/orion/scripts/core/utils/jquery/plugins/cookie.js",exports:"jQuery.cookie"},lodash:{src:"/static/orion/scripts/core/utils/lodash.js",exports:"_"},"isa.omniture":{src:"//web.archive.org/web/20240116161150/https://static.foxnews.com/static/isa/app/lib/omtr_code.js",exports:"omtr"},"adobe.visitor":{src:"//web.archive.org/web/20240116161150/https://static.foxnews.com/static/isa/app/lib/VisitorAPI.js",exports:"Visitor"}}},(Instance=Modulr.config(config)).define("cdn",function(){return FNC.CDN}),Instance.define("akamai.ver",function(){return AKAMAI_BUNDLE_VERSION}),Instance.define("ISA",function(){return FNC.ISA||null}),Instance.define("cache.param",["core.base:utils/environment"],function(Env){return Env.getCacheParam()}),window.FNC.core.video=window.FNC.core.video||(App.prototype.getInfo=function(){if(this._app)return this._app.getInfo()},App.prototype.load=function(callback){var self;"function"==typeof callback&&((self=this)._app?callback(self._app):Instance.require(["api"],function(app){self._app=app,callback(app)}))},App.prototype.getHelper=function(callback){"function"==typeof callback&&Instance.require(["helper"],function(Helper){callback(Helper)})},new App))}(window.Modulr,window.FNC);

}
/*
     FILE ARCHIVED ON 16:11:50 Jan 16, 2024 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 20:22:54 Dec 01, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.464
  exclusion.robots: 0.019
  exclusion.robots.policy: 0.008
  esindex: 0.01
  cdx.remote: 12.979
  LoadShardBlock: 209.425 (3)
  PetaboxLoader3.resolve: 291.293 (3)
  PetaboxLoader3.datanode: 71.875 (4)
  load_resource: 182.634
*/