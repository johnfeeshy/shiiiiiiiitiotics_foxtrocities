var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

!function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t);else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e){return/^((([A-Za-z]{3,9}:(?:\/\/)?)(?:[\-;:&=\+\$,\w]+@)?[A-Za-z0-9\.\-]+|(?:www\.|[\-;:&=\+\$,\w]+@)[A-Za-z0-9\.\-]+)((?:\/[\+~%\/\.\w\-_]*)?\??(?:[\-\+=&;%@\.\w_]*)#?(?:[\.\!\/\\\w]*))?)/.test(e)},g=function(){var e=document.querySelector("meta[property='og:url']");if(e&&e.getAttribute("content").length>0){var t=e.getAttribute("content");if(l(t))return t}var n=document.querySelector("link[rel=canonical]");if(n&&n.getAttribute("href").length>0){var r=n.getAttribute("href");if(l(r))return r}var i=document.querySelector("meta[name='canonical']");if(i&&i.getAttribute("content").length>0){var o=i.getAttribute("content");if(l(o))return o}return null},h=function(){var e=null;return document.URL?e=document.URL:window.location.href?e=window.location.href:window.location.host&&window.location.pathname&&(e="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname)),e},f=function(){var e=null;return window.location.host&&window.location.pathname&&(e="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname)),e},w=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:h()).split("?")[1];return(e?e.split("&"):[]).reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),{})},v={set:function(e,t,n,r){var i;return e?(r||(r={}),n&&(i=(new Date).getTime()+1e3*n),window.document.cookie=[encodeURIComponent(e),"=",encodeURIComponent(String(t)),i?"; expires="+new Date(i).toUTCString():"","; path="+(r.path?r.path:"/"),r.domain?"; domain="+r.domain:"",window.location&&"https:"===window.location.protocol?"; secure":""].join("")):null},get:function(e,t){return(t=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(window.document.cookie))?decodeURIComponent(t[1]):null},delete:function(e,t){v.set(e,null,-1,t)}},m=function e(t,n){var i,o=[];for(i in t)if(t.hasOwnProperty(i)){var a=n?"".concat(n,"[").concat(i,"]"):i,c=t[i];o.push(null!==c&&"object"===r(c)?e(c,a):"".concat(encodeURIComponent(a),"=").concat(encodeURIComponent(c)))}return o.join("&")},p=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];null!==o&&"object"==r(o)?n[i]=e(o):n[i]=encodeURIComponent(o)}return n};var k=function(){var e=["%cKTag","color: white; background: #24c9a0; padding: 4px"].concat(s(Array.prototype.slice.call(arguments)));console.log.apply(console,e)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.ktag.bugsnag&&"object"===r(e)&&window.ktag.bugsnag.pushBreadCrumb(e)},y=function(e,t,n){var r,i=void 0!==XMLHttpRequest.DONE?XMLHttpRequest.DONE:4;return(r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onerror=function(){return r.status>=500&&(window.ktag.bugsnag.pushBreadCrumb({name:"get() - request failed, status >= 500"}),window.ktag.bugsnag.reportError(new Error(r.responseText),{name:"".concat(r.status," request error"),data:data})),!1},r.onreadystatechange=function(){if(r.readyState===i)if(200===r.status){var o=r.responseText;if(o)try{var a=JSON.parse(o)}catch(t){window.ktag.bugsnag.pushBreadCrumb({name:"get() - request failed, error parsing the request response"}),window.ktag.bugsnag.reportError(t,{name:"failed to parse request response",data:{responseText:o,url:e}})}t(a)}else r.status>=500&&n(r.status,r.statusText,r.readyState,r.responseText,r.getAllResponseHeaders())},r.open("GET",e,!0),r.send(),r},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return!(!e||"function"!=typeof e)&&/\{\s+\[native code\]/.test(Function.prototype.toString.call(e))}(fetch);if(!i)return window.ktag.bugsnag.pushBreadCrumb({name:"FetchAPI() - fetch is not native, switching to XMLHttpRequest"}),y(e,t,n);if(!window.fetch)return window.ktag.bugsnag.pushBreadCrumb({name:"Error in FetchAPI() - No window.fetch"}),y(e,t,n);if(!window.Promise)return window.ktag.bugsnag.pushBreadCrumb({name:"Error in FetchAPI() - No window.Promise"}),y(e,t,n);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};try{if(!e||"object"!==r(e)||!e.headers)return t;if("function"==typeof e.headers.entries){var n,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(e.headers.entries());try{for(i.s();!(n=i.n()).done;){var o=n.value;t[o[0]]=o[1]}}catch(e){i.e(e)}finally{i.f()}}return t}catch(e){return"Unable to parse headers"}}return fetch(e,{method:"GET","Content-Type":"application/json"}).then((function(e){if(e.ok)try{return e.json()}catch(e){return Promise.reject(e)}return Promise.reject(e)})).then((function(e){t(e)})).catch((function(t){if(t instanceof Response){var r=o(t);return window.ktag.bugsnag.pushBreadCrumb({name:"Error in FetchAPI() - Request failed - parsing response"}),t.text().then((function(i){return n({url:e,status:t.status,statusText:t.statusText,headers:r,responseText:i})})).catch((function(t){window.ktag.bugsnag.pushBreadCrumb({name:"Error in FetchAPI() - failed to parse response"}),n({url:e,error:t})}))}window.ktag.bugsnag.pushBreadCrumb({name:"Error in FetchAPI() - Request failed - error with fetch promise"}),n({url:e,error:t})}))},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ktag";try{var n,r=document.currentScript,i=document.querySelector('script[src*="'.concat(t,'.js"]')),o=document.querySelector('script[src*="'.concat(t,'.min.js"]'));if(i)n=i;else if(o)n=o;else{if(!r)return Knotch.debug.reportError(new Error("script not found"));n=r}return n.getAttribute(e)}catch(e){return!1}},M=function(e){try{var t=document.querySelector('script[src*="ktag"]')||document.currentScript;if(t){var n=""===t.getAttribute(e),r="true"===t.getAttribute(e)||"1"===t.getAttribute(e);return n||r}return!1}catch(e){return!1}},C=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints||-1!==navigator.userAgent.indexOf("IEMobile")},x=function(e){return"number"==typeof e&&!isNaN(e)},I=function(){return window.top===window},j=function(){return!(!M("privacy")&&"true"!==function(e){try{var t=document.querySelector('script[src*="ktag"]')||document.currentScript;return t?t.dataset[e]:void 0}catch(e){return}}("privacy"))},T=function(){var e=!I()&&document.referrer?document.referrer:h();return-1!==Object.keys(w(e)).indexOf("ktag_debug")||M("debug")},L=function(){var e="";if(window.Intl&&window.Intl.DateTimeFormat&&"function"==typeof window.Intl.DateTimeFormat){var t=new window.Intl.DateTimeFormat||{};if(t.resolvedOptions&&"function"==typeof t.resolvedOptions)e=(t.resolvedOptions()||{timeZone:""}).timeZone}return e},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.round(100*(e+Number.EPSILON))/100},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return window.requestAnimationFrame?window.requestAnimationFrame.call(window,e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame.call(window,e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame.call(window,e):function(e){window.setTimeout(e,1e3/60)}},P={page_view:["browser_url"],scroll_depth:["scroll_pct","scroll_position"],time_on_page_ping:[],content_interaction:["target_path","target_text"]},S=window.navigator&&window.navigator.sendBeacon&&window.navigator.sendBeacon.bind(window.navigator),R=function(e,t){window.ktag.bugsnag.pushBreadCrumb({name:"[pixels] Sending Beacon"});var n=JSON.stringify(p(e));if(S&&n&&n.length){var r=t.FDingress,i=S(r,n);window.ktag.logEvent({payload:e,method:"beacon",sent:i,type:e.type})}},B=function(e,t){var n;window.ktag.bugsnag.pushBreadCrumb({name:"[pixels] Sending Pixel"});var r=new Image(1,1);if(e.url)n=e.url;else{var i=m(e);n="".concat(t.FDingress,"?").concat(i)}r.src=n,window.ktag.logEvent({payload:e,method:"pixel",sent:!0,type:e.type})},D=["browser_url","canonical_url","referrer_url","account_id","time_stamp","session_time_stamp","user_agent","ktag_version","content_height","content_width","platform","language","color_depth","screen_resolution","time_zone"],N=["string","number"],F=function(e){if(!e||!Object.keys(e).length)return!1;var t={};for(var n in e)-1!==N.indexOf(r(e[n]))&&-1===D.indexOf(n)&&(t[n]=e[n]);return!(JSON.stringify(t).length>1024)&&t};function U(){if(window.URL&&window.URL.createObjectURL){var e=URL.createObjectURL(new Blob);if(e&&e.length>0){var t=e.substring(e.lastIndexOf("/")+1);return t.indexOf("blob:")>-1&&(t=t.replace("blob:","")),t}}return window.crypto&&window.crypto.getRandomValues?"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t;return"y"===e?(t=["8","9","a","b"])[Math.floor(Math.random()*t.length)]:(t=new Uint8Array(1),window.crypto.getRandomValues(t),(t[0]%16).toString(16))})):null}var q={accept:[],private:[],reject:[]},H=["accept","private","reject","html_blacklist","html_private_whitelist"],V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.ktag&&window.ktag.blackListConfig;try{if(b({name:"[black list] checking url against blacklists"}),!e)return new Error("No config provided to check url against blacklist");var t=j(),n=window.ktag.isPrivacyMode,r=window.ktag.isRejectMode,i=h(),o=window&&window.location&&window.location.pathname;if(!i||!o)return b({name:"[black list] no browser url or urlPath"}),new Error("No url provided to check url against blacklist");var a=e.private,c=void 0===a?[]:a,s=e.reject,u=void 0===s?[]:s,d=e.accept,l=void 0===d?[]:d;if(!l.length)return b({name:"[black list] accept list is empty, setting isRejectMode true"}),void window.ktag.setRejectMode(!0);if(!l)return b({name:"[black list] no accept list available, setting isRejectMode true"}),window.ktag.setRejectMode(!0),void window.ktag.bugsnag.reportError(new Error("Missing accept list from blacklist config"),{name:"request error",data:{url:i,config:e},severity:"info"});if(!c||!u){b({name:"[black list] no private or rejected list available"});var g=c?"reject":"privacy";window.ktag.bugsnag.reportError(new Error("Missing ".concat(g," list from blacklist config")),{name:"request error",data:{url:i,config:e},severity:"info"})}var f=l.find&&!!l.find((function(e){return i.includes(e)}));if(!f)return b({name:"[black list] page is not accepted list, setting isRejectMode true"}),void window.ktag.setRejectMode(!0);var w=c.find&&!!c.find((function(e){return i.includes(e)||o.includes(e)}));w&&(b({name:"[black list] page is on private list, setting isPrivacyMode true"}),window.ktag.setPrivacyMode(!0));var v=u.find&&!!u.find((function(e){return i.includes(e)||o.includes(e)}));v&&(b({name:"[black list] page is on rejected list, setting isRejectMode true"}),window.ktag.setRejectMode(!0)),f&&!w&&n&&!t&&(b({name:"[black list] page is on accepted list, setting isPrivacyMode false"}),window.ktag.setPrivacyMode(!1),!v&&r&&(b({name:"[black list] page is on accepted list, setting isRejectMode false"}),window.ktag.setRejectMode(!1))),f&&!v&&r&&(b({name:"[black list] page is on accepted list, setting isRejectMode false"}),window.ktag.setRejectMode(!1))}catch(t){b({name:"[black list] failed to parse through blacklist config"}),window.ktag.bugsnag.reportError(t,{data:{accountId:window.ktag.accountId,url:h(),config:e}})}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"123",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{var r="knotch.test"===window.location.hostname?"/config":t.blackList,i=t.configVersion;if(!r||!i)return b({name:"[black list] no config URL or version"}),window.ktag.setRejectMode(!0),new Error("No account config URL or version");if(!t)return b({name:"[black list] no config available"}),window.ktag.setRejectMode(!0),new Error("No account config");var o="".concat(r,"/").concat(i,"/").concat(e);b({name:"[black list] fetching for blacklist config"}),_(o,(function(e){var t=q;H.forEach((function(n){e[n]&&(t[n]=e[n])})),window.ktag.blackListConfig=t;var r=e.modules,i=void 0===r?[]:r,o=e.boolean_flags,a=void 0===o?[]:o,c=e.page_view_conversions,s=void 0===c?[]:c;(b({name:"[black list] config retrieved successfully"}),i.length)&&(window.ktag.accountConfig.modules=i,(null==a?void 0:a.includes("cards_enabled"))&&window.ktag.accountConfig.modules.push({type:"feedback",options:{}}));V(t),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e||!Array.isArray(e))return b({name:"[config] no account flags"});window.ktag.accountFlags=e,b({name:"[config] account flags set"})}(a);var u=[];null!=s&&s.length&&(u=s),n({pageViewConversionsList:u})}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b({name:"[black list] failed to fetch account blacklist"});var t=e.url,n=e.status,r=e.statusText,i=e.headers,o=e.responseText;403===n&&b({name:"[black list] config url was forbidden",url:t,status:n,statusText:r,headers:i,responseText:o}),404===n&&b({name:"[black list] config url was not found",url:t,status:n,statusText:r,headers:i,responseText:o}),window.ktag.setRejectMode(!0)}))}catch(e){var a=h(),c=e instanceof Error?e:new Error("Error in Phone Home - getAccountConfig");window.ktag.bugsnag.reportError(c,{data:{accountId:window.ktag.accountId,url:a}})}};function X(e){this.config=e||{},this.startTime=(new Date).getTime(),this.isDebug=T(),this.disabled=!1,this.breadcrumbs=[{name:"Bugsnag Loaded",timestamp:this.startTime,type:"navigation"}]}X.prototype={init:function(){try{this.tracker={leaveBreadcrumb:function(){},setContext:function(){},notify:function(){}}}catch(e){this.isDebug&&console.warn("Bugsnag error",e),this.disabled=!0}},pushBreadCrumb:function(e){this.disabled||(e.timestamp=(new Date).getTime(),e.type||(e.type="process"),this.breadcrumbs.push(e),this.breadcrumbs.length>30&&this.breadcrumbs.shift(),this.isDebug&&k("breadcrumb:",e),e.name&&this.tracker.leaveBreadcrumb(e.name,e.metaData,e.type))},processMetadata:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,i=void 0===n?{}:n,o=t.severity,a=void 0===o?"warning":o;e&&"object"===r(t)&&Object.keys(t).length&&(e.severity=a,i&&"object"===r(i)&&Object.keys(i)&&e.addMetadata("data",i))},reportError:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.disabled){var r=h();r&&r.length&&this.tracker.setContext(r),e instanceof Error?this.tracker.notify(e,(function(e){return t.processMetadata(e,n)})):this.tracker.notify(new Error(e),(function(e){return t.processMetadata(e,n)}))}}};var K,Z,Y,$=["textContent","className","id","href","value"],G=function(e){for(var t="",n=e,r=n&&"BODY"!==n.tagName;null!==n&&n!==document.body&&n!==document;){var i="";if(n.tagName&&(i+=n.tagName.toLowerCase()),n.id&&(i+="#".concat(n.id)),r&&n.className){var o=n.className.replace(/(\r\n|\n|\r)/gm," ");i+=".".concat(o.split(" ").filter((function(e){return e.length>0})).join("."))}n=n.parentNode,t=0===t.length?i:"".concat(i,">").concat(t)}return t},J=function(e){var t="";return"INPUT"===e.tagName&&"submit"===e.type&&e.value.length?t=e.value:"IFRAME"===e.tagName&&e.title.length?t=e.title:e.textContent&&e.textContent.length&&(t=e.textContent),t.replace(/\s\s+/g," ").trim()},W=function(e){return"IFRAME"===e.tagName&&e.src?e.src:"A"===e.tagName&&e.href?e.href:""},Q=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"A",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(null===t)return null;if(t.tagName===n){var i=!(!t.querySelector||!t.querySelector("img")),o=!!(t.children&&t.children.length<=4),a=!(!t.href||!t.href.length);if(o&&i&&a)return t}return 0===r?null:(r-=1,e(t.parentElement,n,r))},ee=function(e){var t=["A","BUTTON","SVG","SPAN","H1","H2","H3","DIV","IFRAME","OPTION","LABEL","INPUT"],n=[function(e){return t=e,!$.reduce((function(e,n){return e||(r=t[n])&&/<\s?[^\>]*\/?\s?>/.test(r);var r}),!1);var t},function(e){return t=e,$.reduce((function(e,n){return e||!!t[n]}),!1);var t},function(e){return t.indexOf(e.tagName)>-1},function(e){return function(e){return"number"==typeof e.childElementCount?e.childElementCount:e.children&&"number"==typeof e.children.length?e.children.length:0}(e)<5},function(e){return J(e).length<=150},function(e){return"INPUT"!==e.tagName||"button"===e.type||"submit"===e.type}];return n.reduce((function(t,r,i){return t&&n[i](e)}),!0)},te={target_css_class:function(e){return e&&e.className?e.className:""},target_url:function(e){return e?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&e.length?e.split("?")[0]:e}(W(e)):""},target_text:function(e){return e?J(e):""},target_id:function(e){return e&&e.id?e.id:""}},ne=function(e,t){return e&&t&&e.includes&&e.includes(t)},re=function(e,t){return e&&t&&e===t},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"include",r=t.field,i=void 0===r?"":r,o=t.value,a=void 0===o?"":o,c=t.field_value,s=(void 0===c?"":c)||a;if(!e||!i)return!1;var u=te[i];if(!u||"function"!=typeof u)return!1;var d=u(e);if(!d||!d.length)return!1;return("include"===n?ne:re)(d,s)},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blacklist";if(!e)return!1;try{var n=window.ktag&&window.ktag.blackListConfig;if(!n)return b({name:"[interaction white/black list] no blacklist config"}),new Error("Missing blacklist config");for(var r=n.html_blacklist,i=void 0===r?[]:r,o=n.html_private_whitelist,a=!1,c="blacklist"===t?i:void 0===o?[]:o,s=0;s<c.length;s++){var u=c[s],d=u.matcher;if(a=ie(e,u,void 0===d?"":d))return b({name:"blacklist"===t?"[interaction black list matcher] - element matched black list":"[interaction private white list matcher] - element matched private white list"}),a}return a}catch(e){window.ktag.bugsnag.reportError(e)}},ae=function(){function e(t){var n=t.callback,r=t.isInteractionsDebug,o=void 0!==r&&r,a=t.privacyMode,c=void 0!==a&&a,s=t.rejectMode,u=void 0!==s&&s,d=t.pageViewConversionsList,l=void 0===d?[]:d;i(this,e),this.callback=n,this.start={x:0,y:0},this.isMobile=C(),this.hoverElem={},this.privacyMode=c,this.currentUrls={browser_url:h(),root_browser_url:f(),canonical_url:g(),privacy_mode:c},this.isInteractionsDebug=o,this.pageViewConversionsList=l,this.initialized=!1,u||this.init()}return o(e,[{key:"init",value:function(){var e=this;this.privacyMode=window.ktag.isPrivacyMode,b({name:"[CI tracker] initializing Content Interaction Tracker"}),this.pageViewConversionsList&&this.pageViewConversionsList.length&&this.checkPageViewMatch(),this.isMobile?this.tracker=this.initMobileTracker():this.tracker=this.initClickTracker(),this.isInteractionsDebug&&(document.addEventListener("mouseover",(function(t){return e.handleHover(t)})),document.addEventListener("mouseout",(function(t){return e.handleExitHover(t)}))),window.addEventListener("blur",(function(){setTimeout((function(){"IFRAME"===document.activeElement.tagName&&e.handleClick({target:document.activeElement,pageX:document.activeElement.offsetLeft,pageY:document.activeElement.offsetTop})}))})),this.initialized=!0}},{key:"initMobileTracker",value:function(){var e=this;try{var t=function(t){return e.touchStart(t)},n=function(t){return e.touchEnd(t)};return document.addEventListener("touchstart",t),document.addEventListener("touchend",n),function(){document.removeEventListener("touchstart",t),document.removeEventListener("touchend",n)}}catch(e){b({name:"[CI tracker] cannot initialize Content Interaction Tracker (mobile)"}),window.ktag.bugsnag.reportError(e)}}},{key:"initClickTracker",value:function(){var e=this;try{var t=function(t){return e.handleClick(t)};return document.addEventListener("click",t),document.addEventListener("auxclick",t),function(){document.removeEventListener("click",t),document.removeEventListener("auxclick",t)}}catch(e){b({name:"[CI tracker] cannot initialize Content Interaction Tracker (click)"}),window.ktag.bugsnag.reportError(e)}}},{key:"disable",value:function(){b({name:"[CI tracker] disabling Content Interaction Tracker"});try{this.tracker(),this.initialized=!1}catch(e){window.ktag.bugsnag.reportError(e)}}},{key:"setPrivacyMode",value:function(e){this.privacyMode=e}},{key:"touchStart",value:function(e){var t=this.getTouch(e);t&&(this.start={x:t.screenX,y:t.screenY})}},{key:"getTouch",value:function(e){return e.changedTouches?e.changedTouches[0]:!!e.touches&&e.touches[0]}},{key:"touchEnd",value:function(e){var t=this.getTouch(e),n=t&&Math.abs(t.screenX-this.start.x)<10,r=t&&Math.abs(t.screenY-this.start.y)<10;n&&r&&this.handleClick(e,t)}},{key:"checkValidText",value:function(e,t){if((void 0===t&&this.privacyMode||!0===t)&&!oe(e,"whitelist"))return"";var n=J(e),r=function(e){return!!e&&-1===e.indexOf("@")}(n);if(r){var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length&&e.replace?e.replace(/\d/g,"*"):e}(n);return i}return""}},{key:"checkForLastKnownUrl",value:function(){var e={},t=window.ktag.lastEvent&&window.ktag.lastEvent(),n=t.payload&&t.payload||{};return"page_view"===t.type&&n.browser_url!==this.currentUrls.browser_url&&(e.browser_url=this.currentUrls.browser_url,e.canonical_url=this.currentUrls.canonical_url,e.root_browser_url=this.currentUrls.root_browser_url,e.privacy_mode=this.currentUrls.privacy_mode,this.currentUrls.browser_url=n.browser_url,this.currentUrls.canonical_url=n.canonical_url,this.currentUrls.root_browser_url=n.root_browser_url,this.currentUrls.privacy_mode=n.privacy_mode),e}},{key:"handleClick",value:function(e,n){var r=e.target,i=Q(r,"A",3)||r,o=ee(i),a=oe(i,"blacklist");if(o&&!a){var c=this.isMobile&&n?n.screenX:e.pageX,s=this.isMobile&&n?n.screenY:e.pageY,u=x(c)?c:0,d=x(s)?s:0,l=G(i),g=-1===l.indexOf("#knotch-debugger")&&-1===l.indexOf("kn_card_app")&&-1===l.indexOf("kn_card_response");if(l&&g){var h=this.checkForLastKnownUrl(),f=this.checkValidText(i,h.privacy_mode),w=t(t({type:"content_interaction",interaction_type:"click",target_class:i.className,target_id:i.id,target_text:f,target_path:l,target_url:W(i)},h),{},{target_x:u,target_y:d});this.callback(w)}}}},{key:"handleHover",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target,t=Q(e,"A",3)||e,n=ee(t),r=G(t);if(n&&t&&t.style&&-1===r.indexOf("#knotch-debugger")){var i=t.style;this.hoverElem.element=t,this.hoverElem.prevStyle=i,t.style.border="4px solid #D79DFF",t.style.boxShadow="0px 0px 44px 10px rgba(215, 157, 255, 0.6)",t.style.cursor="pointer"}}},{key:"handleExitHover",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hoverElem.element&&e.target===this.hoverElem.element&&(this.hoverElem.element.style=this.hoverElem.prevStyle)}},{key:"checkPageViewMatch",value:function(){var e=this;try{var t=this.currentUrls.browser_url,n=this.pageViewConversionsList.find((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.url&&(t===e.url||t.includes(e.url))}));if(n&&(n.target_text||n.target_css_class||n.target_css_id)){var r={type:"content_interaction",interaction_type:"page_view_conversion",target_class:n.target_css_class,target_id:n.target_css_id,target_text:n.target_text};setTimeout((function(){e.callback(r)}),100)}}catch(e){b({name:"[CI tracker] cannot fire page view conversion event"}),window.ktag.bugsnag.reportError(e)}}}]),e}(),ce=function(){function e(t){var n=t.callback;i(this,e),this.currentUrl=h(),this.callback=n,this.isMobile=C(),this.init()}return o(e,[{key:"init",value:function(){try{window.ktag.bugsnag.pushBreadCrumb({name:"[spa tracker] initializing SPATracker"}),this.clickTracker=this.initClickTracker(),this.scrollTracker=this.initInfiniteScrollTracking(),window.history&&window.history.pushState?this.historyTracker=this.initHistoryTracker():window.ktag.bugsnag.pushBreadCrumb({name:"[spa tracker] cannot initialize historyTracker in SPATracker"})}catch(e){window.ktag.bugsnag.pushBreadCrumb({name:"[spa tracker] cannot initialize SPATracker"}),window.ktag.bugsnag.reportError(e)}}},{key:"disable",value:function(){window.ktag.bugsnag.pushBreadCrumb({name:"[spa tracker] Disabling SPATracker"});try{this.scrollTracker(),this.clickTracker(),this.historyTracker()}catch(e){window.ktag.bugsnag.reportError(e)}}},{key:"initClickTracker",value:function(){var e=this;try{window.ktag.bugsnag.pushBreadCrumb({name:"[spa tracker] initializing click tracking"});var t=function(){return e.checkUrlChange("touch")},n=function(){return e.checkUrlChange("click")};return this.isMobile?(window.document.addEventListener("touchend",t),function(){window.document.removeEventListener("touchend",t)}):(window.document.addEventListener("click",n),window.document.addEventListener("auxclick",n),function(){window.document.removeEventListener("click",n),window.document.removeEventListener("auxclick",n)})}catch(e){window.ktag.bugsnag.reportError(e)}}},{key:"initHistoryTracker",value:function(){var e=this;try{window.ktag.bugsnag.pushBreadCrumb({name:"[spa tracker] initializing history tracking"});var t=function(){return A((function(){return e.checkUrlChange("history")}))};return window.addEventListener("popstate",t),function(){window.removeEventListener("popstate",t)}}catch(e){window.ktag.bugsnag.reportError(e)}}},{key:"initInfiniteScrollTracking",value:function(){var e,t,n,r=this;try{window.ktag.bugsnag.pushBreadCrumb({name:"[spa tracker] initializing scroll tracking"});var i=(e=function(){A((function(){r.checkUrlChange("scroll")}))},t=500,function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,i)}),t)});return window.document.addEventListener("scroll",i),function(){window.document.removeEventListener("scroll",i)}}catch(e){window.ktag.bugsnag.reportError(e)}}},{key:"checkUrlChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"history",t=h();this.currentUrl!==t&&(window.ktag.bugsnag.pushBreadCrumb({name:"[spa tracker] Url has changed on ".concat(e),metaData:{previousUrl:this.currentUrl,url:t,isMobile:this.isMobile}}),this.currentUrl=t,this.callback())}}]),e}(),se={sendCustomEvent:function(e){window.ktag.bugsnag.pushBreadCrumb({name:"[public api] Sending custom event"}),"object"===r(e)&&F(e)&&window.ktag.trackEvent(e)},sendPageView:function(){window.ktag.bugsnag.pushBreadCrumb({name:"[public api] Virtual page view"});var e=U();e&&(window.ktag.bugsnag.pushBreadCrumb({name:"[public api] Updating cs_render_id"}),window.ktag.renderId=e),V(window.ktag.blackListConfig),window.ktag.trackEvent({type:"page_view"})}},ue={setCustomVars:function(e){"object"===r(e)&&F(e)&&window.ktag.dataLayer.push(e)},setDataLayer:function(e){window.ktag&&window.ktag.setCustomVars(e)}},de={disableEagerTracking:function(){if(window.ktag.bugsnag.pushBreadCrumb({name:"[public api] disabling eager tracking"}),window.ktag&&window.ktag.trackers.length){var e=window.ktag.trackers.find((function(e){return"spa"===e.type}));e&&e.instance&&e.instance.disable&&e.instance.disable()}}},le={setPrivacyMode:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(window.ktag.bugsnag.pushBreadCrumb({name:"[public api] setting privacy mode:",bool:e}),window.ktag&&"boolean"==typeof e&&(window.ktag.isPrivacyMode=e),window.ktag&&window.ktag.trackers&&window.ktag.trackers.length){var t=window.ktag.trackers.find((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.type&&"interaction"===e.type}));t&&t.instance&&t.instance.initialized&&t.instance.setPrivacyMode(e)}},setRejectMode:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.ktag.bugsnag.pushBreadCrumb({name:"[public api] setting reject mode:",bool:e}),window.ktag&&"boolean"==typeof e&&(window.ktag.isRejectMode=e),window.ktag&&window.ktag.trackers&&window.ktag.trackers.length&&window.ktag.trackers.forEach((function(t){var n=t.type,r=t.instance,i=void 0===r?{}:r;"spa"!==n&&i&&(e&&i.initialized?i.disable():e||i.initialized||i.init())})),window.ktag&&window.ktag.ModuleHandler&&(e?e&&window.ktag.ModuleHandler.disableAllModules():window.ktag.ModuleHandler.enableAllModules())}},ge={getFeedbackModule:function(){var e,t,n,r,i;return(null!==(e=window.ktag)&&void 0!==e&&e.ModuleHandler?null!==(t=window.ktag)&&void 0!==t&&null!==(t=t.ModuleHandler)&&void 0!==t&&null!==(t=t.modules)&&void 0!==t&&t.feedback?null!==(n=window.ktag)&&void 0!==n&&null!==(n=n.ModuleHandler)&&void 0!==n&&null!==(n=n.modules)&&void 0!==n&&null!==(n=n.feedback)&&void 0!==n&&n.loaded?!(null===(r=window.ktag)||void 0===r||null===(r=r.ModuleHandler)||void 0===r||null===(r=r.modules)||void 0===r||null===(r=r.feedback)||void 0===r||!r.instance)||console.error("Missing Feedback Module instance"):console.error("Feedback Module instance has not loaded"):console.error("Module Handler is missing Feedback Module"):console.error("No access to Module Handler"))?null===(i=window.ktag)||void 0===i||null===(i=i.ModuleHandler)||void 0===i||null===(i=i.modules)||void 0===i||null===(i=i.feedback)||void 0===i?void 0:i.instance:null},getCardById:function(e){var t,n,r=this.getFeedbackModule();if(null==r||null===(t=r.cardInstances)||void 0===t||!t.length)return console.error("No card instances initialized on Feedback Module");if(r&&null!=r&&null!==(n=r.cardInstances)&&void 0!==n&&n.length){if(!e)return console.warn("No card id was provided, returning first card instance"),r.cardInstances[0];var i=r.cardInstances.find((function(t){var n;return(null==t||null===(n=t.metaData)||void 0===n?void 0:n.id)===e}));return i||console.error("Card instance not found")}return null}},he=t(t(t(t(t(t({},{checkOptout:function(){var e=v.get("knotch_optout");"0"===e?this.setOptout(!0):this.optedOut="1"===e},setOptout:function(e){if("boolean"!=typeof e)return console.warn("[Knotch#setOptout] Please pass in a boolean value (true/false)");e?(this.bugsnag.pushBreadCrumb({name:"[public API] Opted out!"}),v.set("knotch_optout",1,31536e3),this.deleteVisitorCookies(),this.optedOut=!0,this.sendCustomEvent({type:"optout_requested",optout:"1"})):(this.bugsnag.pushBreadCrumb({name:"[public API] Opted in!"}),v.delete("knotch_optout"),this.optedOut=!1,this.sendCustomEvent({type:"optin_requested",optout:"0"}))},deleteVisitorCookies:function(){v.delete("kn_cs_visitor_id")}}),se),ue),de),le),ge),fe=function(){function e(){i(this,e),this.enabled=!1,this.data=null,this.processed=!1,this.marks={}}return o(e,[{key:"init",value:function(){try{this.checkForPerformance(),this.sendMark("ktag-fetch-time")}catch(e){window.ktag.bugsnag.pushBreadCrumb({name:"[performance load stats] Failed to generate"}),this.disable(),window.ktag.bugsnag.reportError(e)}}},{key:"disable",value:function(){return this.enabled=!1,window.ktag.performanceEnabled=!1,window.ktag.bugsnag.pushBreadCrumb({name:"[performance load stats] performance disabled"}),null}},{key:"checkForPerformance",value:function(){window.performance&&window.performance.mark&&window.performance.measure&&window.performance.getEntriesByName?(this.enabled=!0,window.ktag.performanceEnabled=!0,window.ktag.bugsnag.pushBreadCrumb({name:"[performance load stats] performance enabled"})):(this.enabled=!1,window.ktag.bugsnag.pushBreadCrumb({name:"[performance load stats] performance API unavailable"}))}},{key:"mark",value:function(e){var t;if(this.enabled){if("string"!=typeof e)return console.error("[KTag] Performance mark() markName should be a string");null!==(t=window.performance)&&void 0!==t&&t.mark&&(this.marks[e]=this.marks[e]||window.performance.mark(e)),this.sendMark(e)}}},{key:"findMark",value:function(e){if(this.enabled&&e&&"string"==typeof e){if(this.marks[e])return this.marks[e];var t,n=performance.getEntriesByType("mark"),i=void 0!==r(t=n)&&Array.isArray(t)&&t.length;return n&&i?n.find((function(t){return t.name===e})):null}}},{key:"getScriptFetchTime",value:function(){if(this.enabled){var e=window.ktag.config.ktag,t=window.ktag.accountId,n="".concat(e,"?accountId=").concat(t),r=performance.getEntriesByName(n);return r&&r.length&&r[0]}}},{key:"getMarks",value:function(){if(!this.enabled)return null;var e=[];if(this.marks&&Object.keys(this.marks)){for(var t in this.marks)e.push(this.marks[t]);return e}}},{key:"measureFromInitTo",value:function(e){if(this.enabled){if("string"!=typeof e)return console.error("[KTag] Performance measureLoadTo() markName should be a string");switch(e){case"ktag-page-view":return window.performance.measure("ktag-init-to-page-view","ktag-start-init",e);case"ktag-end-init":return window.performance.measure("ktag-total-init-time","ktag-start-init",e);case"ktag-modules-end-init":return window.performance.measure("ktag-total-modules-init-time","ktag-start-init",e);case"ktag-card-queue":return window.performance.measure("ktag-card-queue-time","ktag-start-init",e);case"ktag-card-impression":return window.performance.measure("ktag-card-impression-time","ktag-start-init",e);default:return null}}}},{key:"sendMark",value:function(e){if(!window.performance)return this.disable();if("ktag-fetch-time"===e){var t,n=this.getScriptFetchTime(),r=null!==(t=null==n?void 0:n.duration)&&void 0!==t?t:null;r&&window.ktag.trackEvent({type:"load_data",load_type:e,load_time:O(r)})}else if("ktag-start-init"!==e){var i,o=this.measureFromInitTo(e),a=null!==(i=null==o?void 0:o.duration)&&void 0!==i?i:null;a&&window.ktag.trackEvent({type:"load_data",load_type:e,load_time:O(a)})}}}]),e}(),we={feedback:"feedback.min.js",debugger:"debugger.min.js",scroll_depth:"track_sd.min.js",time_on_page:"track_top.min.js"},ve={scroll_depth:"ScrollDepthTracker",time_on_page:"TimeOnPageTracker",feedback:"FeedbackModule"},me=function(){function e(t){var n=t.config,r=void 0===n?{}:n,o=t.modulesList,a=void 0===o?[]:o;i(this,e),this.config=r,this.modules={},this.init(a)}return o(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e&&e.length)try{window.ktag.bugsnag.pushBreadCrumb({name:"[ModuleHandler] Modules requested - Initializing"}),this.injectModules(e)}catch(e){console.error(e)}}},{key:"injectModules",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.length&&(n.map((function(e){var n=e.type,i=e.options,o=void 0===i?{}:i,a=function(e){var t,n=E("src"),r=e&&e.version;n&&n.indexOf("ktag.js")>-1?t=n.indexOf("ktag.js"):n.indexOf("ktag.min.js")>-1?t=n.indexOf("ktag.min.js"):window.ktag.bugsnag.reportError(new Error("knotch script not on page"));var i=n.slice(0,t);return r&&-1!==n.indexOf("latest")&&(i=i.replace("latest",r)),i}({version:t.config.version})+we[n];if(ve[n])return t.modules[n]={loaded:!1,instance:null},function(e){if(window.ktag.bugsnag.pushBreadCrumb({name:"Injecting script with src ".concat(e)}),void 0!==("undefined"==typeof Promise?"undefined":r(Promise)))return new Promise((function(t,n){try{var r=document.createElement("script");r.src=e,r.type="text/javascript",r.async=!0,r.addEventListener("load",(function(){t({loaded:!0,error:!1})})),r.addEventListener("error",(function(t){n({loaded:!1,error:t,message:"Failed to load script with src ".concat(e)})})),(document.head||document.body).appendChild(r)}catch(e){window.ktag.bugsnag.pushBreadCrumb({name:"Error while injecting script",error:e}),n(e)}}));window.ktag.bugsnag.pushBreadCrumb({name:"Error injecting script- No window.Promise"})}(a).then((function(){var e,r;t.createModuleInstance(n,o);var i=null===(e=window.ktag)||void 0===e||null===(e=e.config)||void 0===e?void 0:e.env;(i&&"production"!==i||null!==(r=window.ktag)&&void 0!==r&&r.isDebug)&&k("----\x3e Module Initialized:",n)})).catch((function(e){window.ktag.bugsnag.pushBreadCrumb({name:"[ModuleHandler] Error injecting module script",metadata:{moduleURL:a,moduleName:n}}),window.ktag.bugsnag.reportError(e)}))})),null===(e=window.ktag)||void 0===e||e.performance.mark("ktag-modules-end-init"))}},{key:"createModuleInstance",value:function(e,n){var r=ve[e];if(window.ktag[r]){var i=window.ktag[r];if(i){var o=new i(t(t({},n),{},{callback:this.config.callback}));this.modules[e]={loaded:!0,instance:o}}}}},{key:"getModuleInstance",value:function(e){var t=this.modules[e];return t&&t.loaded?t.instance:null}},{key:"enableModule",value:function(e){var t=this.getModuleInstance(e);t&&!t.initialized&&t.init()}},{key:"enableAllModules",value:function(){var e=this;try{Object.keys(this.modules).length&&Object.keys(this.modules).forEach((function(t){e.enableModule(t)}))}catch(e){window.ktag.bugsnag.reportError(e)}}},{key:"disableModule",value:function(e){var t=this.getModuleInstance(e);t&&t.initialized&&t.disable()}},{key:"disableAllModules",value:function(){var e=this;try{Object.keys(this.modules).length&&Object.keys(this.modules).forEach((function(t){e.disableModule(t)}))}catch(e){window.ktag.bugsnag.reportError(e)}}}]),e}();if(!window.ktag){var pe=new X({env:"production",ingress:"https://web.archive.org/web/20241106221950/https://aq-swa-api.knotch.it",FDingress:"https://web.archive.org/web/20241106221950/https://frontdoor.knotch.it/ingress",accountConfig:"https://web.archive.org/web/20241106221950/https://units.knotch.it/ktag-config",version:"v3.1.0",cardDealer:{root:"https://web.archive.org/web/20241106221950/https://carddealer.knotch.com/cards",resource:"https://web.archive.org/web/20241106221950/https://carddealer.knotch.com/resources"},proFE:"https://web.archive.org/web/20241106221950/https://nextgen.knotch.it/",ktag:"https://web.archive.org/web/20241106221950/https://www.knotch-cdn.com/ktag/latest/ktag.min.js",blackList:"https://web.archive.org/web/20241106221950/https://configs.knotch.com",configVersion:"v2"});pe.init();try{window.ktag=t(t({},he),{},{dataLayer:[],trackers:[],loadTime:Date.now(),accountId:function(){var e=E("src");if(!e||!e.length)return null;var t=c(e.split("?"),2);t[0];var n=t[1];if(!n||!n.split("=").length)return null;var r=c(n.split("="),2);return r[0],r[1]||null}(),renderId:U(),userAgent:"".concat(navigator.userAgent),config:{env:"production",ingress:"https://web.archive.org/web/20241106221950/https://aq-swa-api.knotch.it",FDingress:"https://web.archive.org/web/20241106221950/https://frontdoor.knotch.it/ingress",accountConfig:"https://web.archive.org/web/20241106221950/https://units.knotch.it/ktag-config",version:"v3.1.0",cardDealer:{root:"https://web.archive.org/web/20241106221950/https://carddealer.knotch.com/cards",resource:"https://web.archive.org/web/20241106221950/https://carddealer.knotch.com/resources"},proFE:"https://web.archive.org/web/20241106221950/https://nextgen.knotch.it/",ktag:"https://web.archive.org/web/20241106221950/https://www.knotch-cdn.com/ktag/latest/ktag.min.js",blackList:"https://web.archive.org/web/20241106221950/https://configs.knotch.com",configVersion:"v2"},accountConfig:{},bugsnag:pe,isDemo:(Z=M("demo"),Y="true"===v.get("knotch_demo"),!(!Z&&!Y)),isDebug:T(),isInteractionsDebug:(K=!I()&&document.referrer?document.referrer:h(),-1!==Object.keys(w(K)).indexOf("ktag_interactions_debug")),isPrivacyMode:j(),isRejectMode:!1,eventLog:[],performanceEnabled:!1,performance:{data:null,processed:!1},init:function(){var e,t=this;try{var n,r;if(window.ktag.bugsnag.pushBreadCrumb({name:"[ktag] initializing"}),("production"!==this.config.env||this.isDebug)&&k("----\x3e INITIALIZING CORE"),this.performance=new fe,null===(n=this.performance)||void 0===n||n.init(),this.performanceEnabled)null===(r=this.performance)||void 0===r||r.mark("ktag-start-init");if(!this.accountId)return this.bugsnag.reportError("no account id provided in the script source");if(window.ktag.bugsnag.pushBreadCrumb({name:"[accountId] validating"}),e=this.accountId,!(-1!==location.href.indexOf("knotch.com")||e&&"string"==typeof e&&e.length>0&&(/^[A-F\d]{8}-[A-F\d]{4}-4[A-F\d]{3}-[89AB][A-F\d]{3}-[A-F\d]{12}$/i.test(e)||e.match(/^[0-9a-fA-F]{24}$/))))return this.bugsnag.reportError("account id is not a valid UUID v4");this.checkOptout(),this.optedOut||(this.visitorId=function(){var e="kn_cs_visitor_id",t=v.get(e);if(!t){var n=U();v.set(e,n,31536e3),t=v.get(e)}return t}()),(this.isDebug||this.isInteractionsDebug)&&this.injectSubmodule("debugger"),window.kCustomVars&&window.kCustomVars instanceof Array&&(this.dataLayer=[].concat(s(this.dataLayer),s(window.kCustomVars))),z(this.accountId,this.config,(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pageViewConversionsList,n=void 0===e?[]:e;t.performance.mark("ktag-page-view"),t.trackEvent({type:"page_view"},{setCookie:!0}),window.ktag.bugsnag.pushBreadCrumb({name:"[ktag] first page view"}),function(e){var t=!1,n=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",r),window.removeEventListener("load",r)):(document.detachEvent("onreadystatechange",r),window.detachEvent("onload",r))},r=function(){t||!document.addEventListener&&"load"!==event.type&&"complete"!==document.readyState||(t=!0,n(),e())};if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState||document.body)e();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",r),window.addEventListener("load",r);else{document.attachEvent("onreadystatechange",r),window.attachEvent("onload",r);var i=!1;try{i=null==window.frameElement&&document.documentElement}catch(e){}i&&i.doScroll&&function r(){if(!t){try{i.doScroll("left")}catch(e){return setTimeout(r,50)}t=!0,n(),e()}}()}}((function(){var e=new ce({callback:function(){return window.ktag.sendPageView()}}),r=new ae({callback:function(e){return window.ktag.trackEvent(e)},isInteractionsDebug:t.isInteractionsDebug,privacyMode:t.isPrivacyMode,rejectMode:t.isRejectMode,pageViewConversionsList:n});t.trackers.push({type:"spa",instance:e}),t.trackers.push({type:"interaction",instance:r});var i=t.accountConfig.modules||[];if(i.length){var o={callback:function(e){return window.ktag.trackEvent(e)},privacyMode:t.isPrivacyMode,rejectMode:t.isRejectMode,version:t.config.version};t.ModuleHandler=new me({modulesList:i,config:o})}!function(){var e=document.querySelector('[class*="kn_cs_render_id"]');if(e){window.ktag.bugsnag.pushBreadCrumb({name:"Hidden kn_cs_render_id field found"});var t=e.querySelector('[type="hidden"]');t&&window.ktag.renderId&&(t.setAttribute("value",window.ktag.renderId),window.ktag.bugsnag.pushBreadCrumb({name:"Hidden kn_cs_render_id field set"}))}}(),t.performance.mark("ktag-end-init"),("production"!==t.config.env||t.isDebug)&&k("----\x3e FINISHED CORE INITIALIZATION"),window.ktag.bugsnag.pushBreadCrumb({name:"[ktag] finished init"})}))}))}catch(e){this.bugsnag.reportError(e)}},trackEvent:function(e,n){try{if(e&&this.Debugger&&this.Debugger.handleEvent(e),e&&!this.isDemo){var r=encodeURIComponent(JSON.stringify(this.processDataLayer())),i=t(t({},function(e){var t=e.accountId;window.ktag.visitorId||(window.ktag.visitorId=window.ktag.renderId);var n,r,i={browser_url:h(),root_browser_url:f(),canonical_url:g(),referrer_url:document.referrer,account_id:t,cs_render_id:window.ktag.renderId,cs_visitor_id:window.ktag.visitorId,time_stamp:Date.now(),session_time_stamp:window.ktag.loadTime,user_agent:window.ktag.userAgent,ktag_version:window.ktag.config.version,platform:window.navigator.platform,language:window.navigator.language,color_depth:window.screen.colorDepth,screen_resolution:(n=window.screen.width*window.devicePixelRatio,r=window.screen.height*window.devicePixelRatio,"".concat(n,"x").concat(r)),time_zone:L(),privacy_mode:window.ktag.isPrivacyMode};return document.body&&function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n])}(i,{content_height:document.body.scrollHeight,content_width:document.body.scrollWidth}),i}({accountId:this.accountId,config:this.config})),e);if(this.dataLayer.length&&(i.custom_json=r),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!window.ktag.isRejectMode){window.ktag.bugsnag.pushBreadCrumb({name:"[pixels] Processing Event: ".concat(e.type)}),(void 0!==e.optout||!0===n.setCookie)&&(e.set_cookie="true");var r="page_view"===e.type;if(S&&!r)try{try{R(e,t)}catch(n){B(e,t)}}catch(t){window.ktag.bugsnag.reportError(t,{data:e})}else try{B(e,t)}catch(t){window.ktag.bugsnag.reportError(t,{data:e})}if("production"!==t.env){var i="Event sent: ".concat(e.type),o=P[e.type];o&&null!=o&&o.length&&o.forEach((function(t){e[t]&&(i+="\n".concat(t,": ").concat(e[t]))})),k(i+="\nPayload:",e)}}}(i,this.config,n),this.isInteractionsDebug){var o=new Event("ktag_interaction_event");window.dispatchEvent(o)}}}catch(e){this.bugsnag.reportError(e)}},handleIFrameEvents:function(e){var t=e.data,n=t.data;if("knotchEvent"===t.eventType)this.trackEvent(n)},processDataLayer:function(){return Array.isArray(this.dataLayer)&&this.dataLayer.length?this.dataLayer.reduce((function(e,n){var r=F(n);return r?t(t({},e),r):e}),{}):(this.isDebug&&console.warn("Invalid dataLayer"),null)},lastEvent:function(){return this.eventLog&&this.eventLog.length?this.eventLog[this.eventLog.length-1]:{}},logEvent:function(e){this.eventLog&&this.eventLog.push(e)}})}catch(e){pe.reportError(e)}window.ktag.init()}}();


}
/*
     FILE ARCHIVED ON 22:19:50 Nov 06, 2024 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 20:20:45 Dec 01, 2024.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.595
  exclusion.robots: 0.019
  exclusion.robots.policy: 0.009
  esindex: 0.009
  cdx.remote: 44.262
  LoadShardBlock: 297.848 (6)
  PetaboxLoader3.datanode: 215.69 (7)
  PetaboxLoader3.resolve: 48.848
  load_resource: 20.559
*/